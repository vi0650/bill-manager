import{a as Ie}from"./chunk-JZRUMUNI.js";import{$ as B,A as de,B as se,C as me,D,E as j,F as W,G as le,H as V,I as A,J as ce,K as pe,N as ge,O as ue,P as fe,Q as be,R as he,S as Ce,T as _e,U as Me,V as Ae,W as Oe,X as we,Z as ve,_ as Pe,aa as xe,ba as Se,d as T,ga as ye,h as Z,ha as Ne,ia as Ee,m as $,n as k,r as H,s as ee,t as te,u as ne,v as ie,w as oe,x as re,z as ae}from"./chunk-DR3BJWKQ.js";import{Eb as b,Jb as n,Kb as o,Lb as u,Pb as I,Tb as f,Ub as q,X as G,a as w,ab as m,ac as X,ba as x,bc as s,ca as S,cc as E,dc as Y,fc as h,ga as Q,gb as l,gc as C,hc as _,k as K,mb as M,na as p,nb as y,oa as g,rb as N}from"./chunk-ZRGFFO4N.js";var R=class r{constructor(i){this.NbThemeService=i}setTheme(){let e=(localStorage.getItem("theme")||"default")==="dark"?"default":"dark";this.NbThemeService.changeTheme(e),localStorage.setItem("theme",e)}themeState(){let i=localStorage.getItem("theme")||"default";this.NbThemeService.changeTheme("dark")}static \u0275fac=function(e){return new(e||r)(Q(me))};static \u0275prov=x({token:r,factory:r.\u0275fac,providedIn:"root"})};var L=class r{constructor(i,e,t,a,c,d){this.ThemeService=i;this.sidebarService=e;this.breakpointService=t;this.menuService=a;this.route=c;this.auth=d}destroy$=new K;ngOnInit(){let{lg:i}=this.breakpointService.getBreakpointsMap();this.menuService.onItemClick().pipe(G(this.destroy$)).subscribe(()=>{window.innerWidth<i&&this.sidebarService.collapse("super-sidebar")})}menuItems=[{title:"Admins",icon:"person-outline",link:"admins-list"}];toggle(){return this.sidebarService.toggle(!0,"super-sidebar"),!1}logout(){localStorage.removeItem("loggedUser"),this.route.navigate(["/login"])}static \u0275fac=function(e){return new(e||r)(l(R),l(Ce),l(se),l(be),l(k),l(Ne))};static \u0275cmp=M({type:r,selectors:[["super-admin"]],standalone:!1,decls:15,vars:1,consts:[["fixed",""],[1,"header-container"],["nbButton","","ghost","",3,"click"],["icon","menu-arrow-outline"],[1,"header-title"],[1,"header-logout"],["nbButton","","status","primary","size","small",1,"logout",3,"click"],["icon","log-out-outline"],["tag","super-sidebar","state","expanded","responsive","",2,"background-color","aliceblue"],[3,"items"],["fixed","",1,"layout-column"]],template:function(e,t){e&1&&(n(0,"nb-layout")(1,"nb-layout-header",0)(2,"div",1)(3,"button",2),f("click",function(){return t.toggle()}),u(4,"nb-icon",3),o(),n(5,"span",4),s(6,"Super Admin"),o()(),n(7,"div",5)(8,"button",6),f("click",function(){return t.logout()}),u(9,"nb-icon",7),s(10," logout "),o()()(),n(11,"nb-sidebar",8),u(12,"nb-menu",9),o(),n(13,"nb-layout-column",10),u(14,"router-outlet"),o()()),e&2&&(m(12),b("items",t.menuItems))},dependencies:[ge,ue,fe,_e,A,D,he,$],styles:[".nb-icon[_ngcontent-%COMP%]{font-size:10px!important}nb-layout-header[_ngcontent-%COMP%] > .layout-container[_ngcontent-%COMP%]{padding-top:0}nb-list-item[_ngcontent-%COMP%]:hover{background-color:#f8f6f4}.nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-icon[_ngcontent-%COMP%]{margin-left:80px}.card-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-content[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:0 1rem}.header-logout[_ngcontent-%COMP%]{margin-left:auto;display:flex;justify-content:space-between;gap:1rem}.header-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.header-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}"]})};var v=(t=>(t.Admin="Admin",t.SuperAdmin="SuperAdmin",t.Manager="Manager",t))(v||{});function Ve(r,i){if(r&1&&(n(0,"nb-option",26),s(1),o()),r&2){let e=i.$implicit;b("value",e),m(),E(e)}}var P=class r{constructor(i,e){this.dialogRef=i;this.NbTostrService=e;console.log(this.adminCount)}isEdit=!1;editAdmin;roles=Object.values(v);adminCount=0;ngOnInit(){this.isEdit&&this.editAdmin?this.newAdmin=w({},this.editAdmin):(this.adminCount=localStorage.getItem("Admins")?JSON.parse(localStorage.getItem("Admins")).length:0,this.newAdmin.AdminId=this.adminCount+1)}newAdmin={AdminId:0,shopName:"",userName:"",emailId:"",mobileNo:"",password:"",address:"",role:""};addAdmin(){let i=w({},this.newAdmin);i.AdminId&&i.shopName&&i.userName&&i.emailId&&i.mobileNo&&i.password&&i.address&&this.dialogRef.close(this.newAdmin),console.log(i)}cancel(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||r)(l(ve),l(B))};static \u0275cmp=M({type:r,selectors:[["add-admin"]],inputs:{isEdit:"isEdit",editAdmin:"editAdmin"},standalone:!1,decls:45,vars:9,consts:[["form","ngForm"],[1,"wide-dialog-card"],[3,"ngSubmit"],[1,"form-group"],["for","shopNameInput",1,"label"],["type","text","nbInput","","shape","semi-round","fullWidth","","id","shopNameInput","name","shopName","placeholder","Enter Shop Name","required","",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-col1"],["for","usernameInput",1,"label"],["type","text","nbInput","","shape","semi-round","fullWidth","","id","usernameInput","name","username","placeholder","Enter Username","required","",3,"ngModelChange","ngModel"],[1,"form-col2"],["for","userRoleInput",1,"label"],["name","role","shape","semi-round","fullWidth","","placeholder","Role",3,"ngModelChange","ngModel"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","emailInput",1,"label"],["type","email","nbInput","","shape","semi-round","fullWidth","","id","emailInput","name","emailId","placeholder","Enter Email Address","required","",3,"ngModelChange","ngModel"],["for","mobileNoInput",1,"label"],["type","tel","nbInput","","shape","semi-round","fullWidth","","id","mobileNoInput","name","mobileNo","placeholder","Enter Mobile Number","required","",3,"ngModelChange","ngModel"],["for","passwordInput",1,"label"],["type","text","nbInput","","shape","semi-round","fullWidth","","id","passwordInput","name","password","placeholder","Enter Password","required","",3,"ngModelChange","ngModel"],["for","addressInput",1,"label"],["type","text","nbInput","","shape","semi-round","fullWidth","","id","addressInput","rows","2","name","addressInput","placeholder","Enter Address","required","",3,"ngModelChange","ngModel"],[1,"action-buttons"],["nbButton","","status","success","ghost","",3,"click","disabled"],["nbButton","","status","danger","ghost","",3,"click"],[3,"value"]],template:function(e,t){if(e&1){let a=I();n(0,"nb-card",1)(1,"nb-card-header"),s(2," Add New Admin "),o(),n(3,"nb-card-body")(4,"form",2,0),f("ngSubmit",function(){return p(a),g(t.addAdmin())}),n(6,"div",3)(7,"label",4),s(8,"Shop Name"),o(),n(9,"input",5),_("ngModelChange",function(d){return p(a),C(t.newAdmin.shopName,d)||(t.newAdmin.shopName=d),g(d)}),o()(),n(10,"div",3)(11,"div",6)(12,"div",7)(13,"label",8),s(14,"Username"),o(),n(15,"input",9),_("ngModelChange",function(d){return p(a),C(t.newAdmin.userName,d)||(t.newAdmin.userName=d),g(d)}),o()(),n(16,"div",10)(17,"label",11),s(18,"Select Role"),o(),n(19,"nb-select",12),_("ngModelChange",function(d){return p(a),C(t.newAdmin.role,d)||(t.newAdmin.role=d),g(d)}),n(20,"nb-option",13),s(21,"select Role"),o(),N(22,Ve,2,2,"nb-option",14),o()()()(),n(23,"div",3)(24,"label",15),s(25,"Email ID"),o(),n(26,"input",16),_("ngModelChange",function(d){return p(a),C(t.newAdmin.emailId,d)||(t.newAdmin.emailId=d),g(d)}),o()(),n(27,"div",3)(28,"label",17),s(29,"Mobile No."),o(),n(30,"input",18),_("ngModelChange",function(d){return p(a),C(t.newAdmin.mobileNo,d)||(t.newAdmin.mobileNo=d),g(d)}),o()(),n(31,"div",3)(32,"label",19),s(33,"Password"),o(),n(34,"input",20),_("ngModelChange",function(d){return p(a),C(t.newAdmin.password,d)||(t.newAdmin.password=d),g(d)}),o()(),n(35,"div",3)(36,"label",21),s(37,"Address"),o(),n(38,"textarea",22),_("ngModelChange",function(d){return p(a),C(t.newAdmin.address,d)||(t.newAdmin.address=d),g(d)}),o()()()(),n(39,"nb-card-footer")(40,"div",23)(41,"button",24),f("click",function(){return p(a),g(t.addAdmin())}),s(42," Add "),o(),n(43,"button",25),f("click",function(){return p(a),g(t.cancel())}),s(44,"Cancel"),o()()()()}if(e&2){let a=X(5);m(9),h("ngModel",t.newAdmin.shopName),m(6),h("ngModel",t.newAdmin.userName),m(4),h("ngModel",t.newAdmin.role),m(3),b("ngForOf",t.roles),m(4),h("ngModel",t.newAdmin.emailId),m(4),h("ngModel",t.newAdmin.mobileNo),m(4),h("ngModel",t.newAdmin.password),m(4),h("ngModel",t.newAdmin.address),m(3),b("disabled",!a.valid)}},dependencies:[T,A,V,W,le,j,Se,xe,we,re,ee,te,ne,ae,oe,ie],styles:["nb-card-body{max-height:70vh}  button+button{margin-left:1rem}.nb-theme-default[_ngcontent-%COMP%]   [nbInput].size-medium[_ngcontent-%COMP%]{margin:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:16px;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-col1[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-col2[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-col1[_ngcontent-%COMP%]{max-width:100%;min-width:60%}.form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-col2[_ngcontent-%COMP%]{width:auto}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-row[_ngcontent-%COMP%]   .form-col2[_ngcontent-%COMP%]{display:flex;flex-direction:row}}.label[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;letter-spacing:.4px}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.wide-dialog-card[_ngcontent-%COMP%]{width:40rem;max-width:80vw}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}"]})};var F=class r{constructor(){}ngOnInit(){this.getAdmin()}storageKey="Admins";Admins=[{AdminId:1,shopName:"admin",userName:"Admin",password:"Admin@1234",role:"SuperAdmin",emailId:"Admin@gmail.com",mobileNo:"+918934578435",address:"India"}];getAdmin(){let i=localStorage.getItem(this.storageKey);return i?JSON.parse(i):(this.setAdminData(this.Admins),this.Admins)}setAdminData(i){localStorage.setItem(this.storageKey,JSON.stringify(i))}static \u0275fac=function(e){return new(e||r)};static \u0275prov=x({token:r,factory:r.\u0275fac,providedIn:"root"})};function Re(r,i){if(r&1){let e=I();n(0,"nb-list-item",15)(1,"div",8),s(2),o(),n(3,"div",9),u(4,"nb-tag",16),o(),n(5,"div",10),u(6,"nb-user",17),o(),n(7,"div",11),s(8),o(),n(9,"div",12)(10,"button",18),f("click",function(){let a=p(e).index,c=q();return g(c.editAdminDialog(a))}),u(11,"nb-icon",19),o(),n(12,"button",20),f("click",function(){let a=p(e).index,c=q();return g(c.deleteAdmin(a))}),u(13,"nb-icon",21),o()()()}if(r&2){let e=i.$implicit,t=i.index;m(2),E(t+1),m(2),b("text",e.role),m(2),b("name",e.shopName),m(2),Y(" ",e.emailId," ")}}var z=class r{constructor(i,e,t,a){this.dialogService=i;this.NbTostr=e;this.router=t;this.AdminDataService=a}Admin=[];roles=Object.values(v);ngOnInit(){this.Admin=this.AdminDataService.getAdmin(),console.table(this.Admin)}openAddAdminDialog(){console.log("Opening dialog..."),this.dialogService.open(P,{context:{isEdit:!1}}).onClose.subscribe(e=>{if(e&&e.AdminId&&e.shopName&&e.userName&&e.emailId&&e.mobileNo&&e.password&&e.address&&e.role){if(this.Admin.find(a=>a.shopName===e.shopName)){this.NbTostr.warning(`Admin ${e.shopName} already exists.`,"Warning",{duration:3e3});return}this.Admin.push(e),this.AdminDataService.setAdminData(this.Admin),this.NbTostr.success("Admin Added Successfully please refresh the page.","Success",{duration:3e3})}console.log("Dialog closed",e)})}editAdminDialog(i){console.log("opened edit dialog");let e=w({},this.Admin[i]);this.dialogService.open(P,{context:{isEdit:!0,editAdmin:e}}).onClose.subscribe(a=>{a&&a.AdminId&&(this.Admin[i]=a,this.AdminDataService.setAdminData(this.Admin),this.NbTostr.success("Admin updated successfully","SUCCESS"))})}deleteAdmin(i){if(confirm("Are you sure to delete this admin"))this.NbTostr.danger("Admin Deleted Successfully","Deleted",{duration:3e3});else return;this.Admin.splice(i,1),this.AdminDataService.setAdminData(this.Admin)}refresh(){this.router.navigate([this.router.url],{onSameUrlNavigation:"reload"})}static \u0275fac=function(e){return new(e||r)(l(Pe),l(B),l(k),l(F))};static \u0275cmp=M({type:r,selectors:[["admins-list"]],standalone:!1,decls:25,vars:1,consts:[["size","medium"],[1,"action"],["nbButton","",3,"click"],["icon","file-add-outline","status","primary",1,"nb-icon"],["status","danger","icon","sync-outline"],["size","large"],[1,"col-header"],[1,"invoice-header"],[1,"col","index"],[1,"col","role"],[1,"col","user-profile"],[1,"col","email"],[1,"col","actions"],[1,"invoice-list-container"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],["appearance","outline","status","primary",3,"text"],[3,"name"],["nbButton","","size","small","ghost","","status","primary",3,"click"],["icon","edit-2-outline"],["nbButton","","size","small","ghost","","status","danger",3,"click"],["icon","trash-2"]],template:function(e,t){e&1&&(n(0,"nb-actions",0)(1,"nb-action",1)(2,"button",2),f("click",function(){return t.openAddAdminDialog()}),u(3,"nb-icon",3),o(),n(4,"button",2),f("click",function(){return t.refresh()}),u(5,"nb-icon",4),o()()(),n(6,"nb-card",5)(7,"nb-card-header"),s(8,"Admins"),o(),n(9,"nb-card-header",6)(10,"div",7)(11,"div",8),s(12,"No."),o(),n(13,"div",9),s(14,"Role"),o(),n(15,"div",10),s(16,"User Name"),o(),n(17,"div",11),s(18,"Email"),o(),n(19,"div",12),s(20,"Actions"),o()()(),n(21,"nb-card-body")(22,"div",13)(23,"nb-list"),N(24,Re,14,4,"nb-list-item",14),o()()()()),e&2&&(m(24),b("ngForOf",t.Admin))},dependencies:[T,A,D,Ae,Oe,V,W,j,Me,ce,pe,ye],styles:["[_nghost-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 1rem}[_nghost-%COMP%]   .invoice-list-container[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;padding-bottom:10px}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:transparent;padding:5px 20px;box-sizing:border-box}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:#f7f9fc;border-radius:8px;padding:8px 40px 8px 30px;font-weight:600;color:#444;border:1px solid #eee;box-sizing:border-box}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-align:center;white-space:nowrap}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{flex:.3}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{flex:.6}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{flex:.9;text-align:left}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{flex:1.2}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:.6;text-align:end}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:10px;box-shadow:0 2px 6px #0000000d;padding:12px 20px;margin:8px 0;width:100%;transition:box-shadow .2s ease}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]:hover{box-shadow:0 3px 10px #00000014}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-align:center;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{flex:.3;font-weight:600;color:#000;font-size:larger;display:flex;justify-content:center}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{flex:.6;display:flex;justify-content:center}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{flex:1;display:flex;text-align:left;font-weight:600;color:#000;letter-spacing:.3px;text-transform:capitalize}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{flex:1.2;font-weight:500;color:#333;text-transform:lowercase;display:flex;justify-content:center;letter-spacing:.3px}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:1;color:#666}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:.6;display:flex;justify-content:flex-end;gap:8px}@media (max-width: 768px){[_nghost-%COMP%]     nb-card-header.col-header{display:none!important}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px;padding:12px 16px;margin:10px 0;width:100%}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;text-align:left}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]   nb-tag[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   nb-user[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;gap:10px}}@media (max-width: 576px){  nb-card-header.col-header{display:none!important}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px;padding:12px 16px;margin:10px 0;width:100%}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;text-align:left}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]   nb-tag[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   nb-user[_ngcontent-%COMP%]{margin-left:0;padding:1rem 0rem}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;gap:10px}}"]})};var Le=[{path:"",canActivate:[Ie],component:L,children:[{path:"admins-list",component:z},{path:"",redirectTo:"admins-list",pathMatch:"full"}]}],U=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=y({type:r});static \u0275inj=S({imports:[H.forChild(Le),H]})};var ke=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=y({type:r});static \u0275inj=S({imports:[Z,Ee,de,U]})};export{F as a,ke as b};
