import{$ as Ce,A as ee,C as N,D as S,E as v,F as ne,G as I,H as w,I as te,J as ie,M as oe,N as re,O as ae,Q as de,R as le,S as se,T as me,U as ce,V as pe,W as ge,Y as ue,Z as fe,_ as E,aa as be,d as q,fa as _e,ga as he,h as U,m as H,n as J,r as j,s as G,t as K,u as Q,v as X,w as Y,x as Z,z as $}from"./chunk-CGTNVZN2.js";import{$b as B,Db as C,Ib as n,Jb as t,Kb as g,Ob as y,Sb as u,Tb as W,a as O,ab as s,ac as d,bc as F,ca as A,cc as z,ec as b,fc as _,gb as f,gc as h,mb as M,na as m,nb as x,oa as c,rb as R,va as L}from"./chunk-ACQLDL5Y.js";var D=class l{constructor(o,e){this.sidebarService=o;this.route=e}menuItems=[{title:"Admins",icon:"person-outline",link:"admins-list"}];toggle(){return this.sidebarService.toggle(!0,"super-sidebar"),!1}logout(){localStorage.removeItem("loggedUser"),this.route.navigate(["/login"])}static \u0275fac=function(e){return new(e||l)(f(le),f(J))};static \u0275cmp=M({type:l,selectors:[["super-admin"]],standalone:!1,decls:14,vars:1,consts:[["fixed",""],[1,"header-container"],["nbButton","","ghost","",3,"click"],["icon","menu-arrow-outline"],[1,"header-title"],["nbButton","","status","primary","outline","","size","small",1,"logout",3,"click"],["icon","log-out-outline"],["tag","super-sidebar","state","expanded","responsive","",2,"background-color","aliceblue"],[3,"items"],["fixed","",1,"layout-column"]],template:function(e,i){e&1&&(n(0,"nb-layout")(1,"nb-layout-header",0)(2,"div",1)(3,"button",2),u("click",function(){return i.toggle()}),g(4,"nb-icon",3),t(),n(5,"span",4),d(6,"Super Admin"),t(),n(7,"button",5),u("click",function(){return i.logout()}),g(8,"nb-icon",6),d(9," logout "),t()()(),n(10,"nb-sidebar",7),g(11,"nb-menu",8),t(),n(12,"nb-layout-column",9),g(13,"router-outlet"),t()()),e&2&&(s(11),C("items",i.menuItems))},dependencies:[oe,re,ae,se,w,N,de,H],styles:[".nb-icon[_ngcontent-%COMP%]{font-size:10px!important}nb-layout-header[_ngcontent-%COMP%] > .layout-container[_ngcontent-%COMP%]{padding-top:0}nb-list-item[_ngcontent-%COMP%]:hover{background-color:#f8f6f4}.nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-icon[_ngcontent-%COMP%]{margin-left:80px}.card-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-content[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:0 1rem}.header-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.header-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}"]})};var P=class l{constructor(o,e){this.dialogRef=o;this.NbTostrService=e;console.log(this.adminCount)}isEdit=!1;editAdmin;adminCount=0;ngOnInit(){this.isEdit&&this.editAdmin?this.newAdmin=O({},this.editAdmin):(this.adminCount=localStorage.getItem("Admins")?JSON.parse(localStorage.getItem("Admins")).length:0,this.newAdmin.AdminId=this.adminCount+1)}newAdmin={AdminId:0,shopName:"",userName:"",emailId:"",mobileNo:"",password:"",address:"",role:""};addAdmin(){let o=O({},this.newAdmin);o.AdminId&&o.shopName&&o.userName&&o.emailId&&o.mobileNo&&o.password&&o.address&&this.dialogRef.close(this.newAdmin),console.log(o)}cancel(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||l)(f(ue),f(E))};static \u0275cmp=M({type:l,selectors:[["add-admin"]],inputs:{isEdit:"isEdit",editAdmin:"editAdmin"},standalone:!1,decls:48,vars:8,consts:[["form","ngForm"],[1,"wide-dialog-card"],[3,"ngSubmit"],[1,"form-group"],["for","shopNameInput",1,"label"],["type","text","nbInput","","shape","semi-round","fullWidth","","id","shopNameInput","name","shopName","placeholder","Enter Shop Name","required","",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-col1"],["for","usernameInput",1,"label"],["type","text","nbInput","","shape","semi-round","fullWidth","","id","usernameInput","name","username","placeholder","Enter Username","required","",3,"ngModelChange","ngModel"],[1,"form-col2"],["for","userRoleInput",1,"label"],["name","role","shape","semi-round","fullWidth","","placeholder","Role",3,"ngModelChange","ngModel"],["disabled",""],["value","admin"],["value","super-admin"],["for","emailInput",1,"label"],["type","email","nbInput","","shape","semi-round","fullWidth","","id","emailInput","name","emailId","placeholder","Enter Email Address","required","",3,"ngModelChange","ngModel"],["for","mobileNoInput",1,"label"],["type","tel","nbInput","","shape","semi-round","fullWidth","","id","mobileNoInput","name","mobileNo","placeholder","Enter Mobile Number","required","",3,"ngModelChange","ngModel"],["for","passwordInput",1,"label"],["type","text","nbInput","","shape","semi-round","fullWidth","","id","passwordInput","name","password","placeholder","Enter Password","required","",3,"ngModelChange","ngModel"],["for","addressInput",1,"label"],["type","text","nbInput","","shape","semi-round","fullWidth","","id","addressInput","rows","2","name","addressInput","placeholder","Enter Address","required","",3,"ngModelChange","ngModel"],[1,"action-buttons"],["nbButton","","status","success","ghost","",3,"click","disabled"],["nbButton","","status","danger","ghost","",3,"click"]],template:function(e,i){if(e&1){let a=y();n(0,"nb-card",1)(1,"nb-card-header"),d(2," Add New Admin "),t(),n(3,"nb-card-body")(4,"form",2,0),u("ngSubmit",function(){return m(a),c(i.addAdmin())}),n(6,"div",3)(7,"label",4),d(8,"Shop Name"),t(),n(9,"input",5),h("ngModelChange",function(r){return m(a),_(i.newAdmin.shopName,r)||(i.newAdmin.shopName=r),c(r)}),t()(),n(10,"div",3)(11,"div",6)(12,"div",7)(13,"label",8),d(14,"Username"),t(),n(15,"input",9),h("ngModelChange",function(r){return m(a),_(i.newAdmin.userName,r)||(i.newAdmin.userName=r),c(r)}),t()(),n(16,"div",10)(17,"label",11),d(18,"Select Role"),t(),n(19,"nb-select",12),h("ngModelChange",function(r){return m(a),_(i.newAdmin.role,r)||(i.newAdmin.role=r),c(r)}),n(20,"nb-option",13),d(21,"select Role"),t(),n(22,"nb-option",14),d(23,"Admin"),t(),n(24,"nb-option",15),d(25,"Super Admin"),t()()()()(),n(26,"div",3)(27,"label",16),d(28,"Email ID"),t(),n(29,"input",17),h("ngModelChange",function(r){return m(a),_(i.newAdmin.emailId,r)||(i.newAdmin.emailId=r),c(r)}),t()(),n(30,"div",3)(31,"label",18),d(32,"Mobile No."),t(),n(33,"input",19),h("ngModelChange",function(r){return m(a),_(i.newAdmin.mobileNo,r)||(i.newAdmin.mobileNo=r),c(r)}),t()(),n(34,"div",3)(35,"label",20),d(36,"Password"),t(),n(37,"input",21),h("ngModelChange",function(r){return m(a),_(i.newAdmin.password,r)||(i.newAdmin.password=r),c(r)}),t()(),n(38,"div",3)(39,"label",22),d(40,"Address"),t(),n(41,"textarea",23),h("ngModelChange",function(r){return m(a),_(i.newAdmin.address,r)||(i.newAdmin.address=r),c(r)}),t()()()(),n(42,"nb-card-footer")(43,"div",24)(44,"button",25),u("click",function(){return m(a),c(i.addAdmin())}),d(45," Add "),t(),n(46,"button",26),u("click",function(){return m(a),c(i.cancel())}),d(47,"Cancel"),t()()()()}if(e&2){let a=B(5);s(9),b("ngModel",i.newAdmin.shopName),s(6),b("ngModel",i.newAdmin.userName),s(4),b("ngModel",i.newAdmin.role),s(10),b("ngModel",i.newAdmin.emailId),s(4),b("ngModel",i.newAdmin.mobileNo),s(4),b("ngModel",i.newAdmin.password),s(4),b("ngModel",i.newAdmin.address),s(3),C("disabled",!a.valid)}},dependencies:[w,I,v,ne,S,be,Ce,ge,Z,G,K,Q,$,Y,X],styles:["nb-card-body{max-height:70vh}  button+button{margin-left:1rem}.nb-theme-default[_ngcontent-%COMP%]   [nbInput].size-medium[_ngcontent-%COMP%]{margin:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:16px;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-col1[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-col2[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-col1[_ngcontent-%COMP%]{max-width:100%;min-width:60%}.form-group[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-col2[_ngcontent-%COMP%]{width:auto}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-row[_ngcontent-%COMP%]   .form-col2[_ngcontent-%COMP%]{display:flex;flex-direction:row}}.label[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;letter-spacing:.4px}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.wide-dialog-card[_ngcontent-%COMP%]{width:40rem;max-width:80vw}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}"]})};function Pe(l,o){if(l&1){let e=y();n(0,"nb-list-item",15)(1,"div",8),d(2),t(),n(3,"div",9),g(4,"nb-tag",16),t(),n(5,"div",10),g(6,"nb-user",17),t(),n(7,"div",11),d(8),t(),n(9,"div",12)(10,"button",18),u("click",function(){let a=m(e).index,p=W();return c(p.editAdminDialog(a))}),g(11,"nb-icon",19),t(),n(12,"button",20),u("click",function(){let a=m(e).index,p=W();return c(p.deleteAdmin(a))}),g(13,"nb-icon",21),t()()()}if(l&2){let e=o.$implicit,i=o.index;s(2),F(i+1),s(2),C("text",e.role),s(2),C("name",e.shopName),s(2),z(" ",e.emailId," ")}}var k=class l{constructor(o,e){this.dialogService=o;this.NbTostr=e}adminsChange=new L;Admin=[];ngOnInit(){this.getAdminData()}getAdminData(){let o=localStorage.getItem("Admins");o?this.Admin=JSON.parse(o):(this.Admin,this.setAdminData())}setAdminData(){localStorage.setItem("Admins",JSON.stringify(this.Admin))}openAddAdminDialog(){console.log("Opening dialog..."),this.dialogService.open(P,{context:{isEdit:!1}}).onClose.subscribe(e=>{if(e&&e.AdminId&&e.shopName&&e.userName&&e.emailId&&e.mobileNo&&e.password&&e.address&&e.role){if(this.Admin.find(a=>a.shopName===e.shopName)){this.NbTostr.warning(`Admin ${e.shopName} already exists.`,"Warning",{duration:3e3});return}this.Admin.push(e),this.setAdminData(),this.NbTostr.success("Admin Added Successfully please refresh the page.","Success",{duration:3e3})}console.log("Dialog closed",e)})}editAdminDialog(o){console.log("opened edit dialog");let e=O({},this.Admin[o]);this.dialogService.open(P,{context:{isEdit:!0,editAdmin:e}}).onClose.subscribe(a=>{a&&a.AdminId&&(this.Admin[o]=a,this.setAdminData(),this.NbTostr.success("Admin updated successfully","SUCCESS"))})}deleteAdmin(o){if(confirm("Are you sure to delete this admin"))this.NbTostr.danger("Admin Deleted Successfully","Deleted",{duration:3e3});else return;this.Admin.splice(o,1),this.setAdminData()}refresh(){window.location.reload()}static \u0275fac=function(e){return new(e||l)(f(fe),f(E))};static \u0275cmp=M({type:l,selectors:[["admins-list"]],outputs:{adminsChange:"adminsChange"},standalone:!1,decls:25,vars:1,consts:[["size","medium"],[1,"action"],["nbButton","",3,"click"],["icon","file-add-outline","status","primary",1,"nb-icon"],["status","danger","icon","sync-outline"],["size","large"],[1,"col-header"],[1,"invoice-header"],[1,"col","index"],[1,"col","role"],[1,"col","user-profile"],[1,"col","email"],[1,"col","actions"],[1,"invoice-list-container"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],["appearance","outline","status","primary",3,"text"],[3,"name"],["nbButton","","size","small","ghost","","status","primary",3,"click"],["icon","edit-2-outline"],["nbButton","","size","small","ghost","","status","danger",3,"click"],["icon","trash-2"]],template:function(e,i){e&1&&(n(0,"nb-actions",0)(1,"nb-action",1)(2,"button",2),u("click",function(){return i.openAddAdminDialog()}),g(3,"nb-icon",3),t(),n(4,"button",2),u("click",function(){return i.refresh()}),g(5,"nb-icon",4),t()()(),n(6,"nb-card",5)(7,"nb-card-header"),d(8,"Admins"),t(),n(9,"nb-card-header",6)(10,"div",7)(11,"div",8),d(12,"No."),t(),n(13,"div",9),d(14,"Role"),t(),n(15,"div",10),d(16,"User Name"),t(),n(17,"div",11),d(18,"Email"),t(),n(19,"div",12),d(20,"Actions"),t()()(),n(21,"nb-card-body")(22,"div",13)(23,"nb-list"),R(24,Pe,14,4,"nb-list-item",14),t()()()()),e&2&&(s(24),C("ngForOf",i.Admin))},dependencies:[q,w,N,ce,pe,I,v,S,me,te,ie,_e],styles:["[_nghost-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 1rem}[_nghost-%COMP%]   .invoice-list-container[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;padding-bottom:10px}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:transparent;padding:5px 20px;box-sizing:border-box}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:#f7f9fc;border-radius:8px;padding:8px 40px 8px 30px;font-weight:600;color:#444;border:1px solid #eee;box-sizing:border-box}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-align:center;white-space:nowrap}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{flex:.3}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{flex:.6}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{flex:.9;text-align:left}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{flex:1.2}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:.6;text-align:end}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:10px;box-shadow:0 2px 6px #0000000d;padding:12px 20px;margin:8px 0;width:100%;transition:box-shadow .2s ease}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]:hover{box-shadow:0 3px 10px #00000014}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-align:center;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{flex:.3;font-weight:600;color:#000;font-size:larger;display:flex;justify-content:center}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{flex:.6;display:flex;justify-content:center}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{flex:1;display:flex;text-align:left;font-weight:600;color:#000;letter-spacing:.3px;text-transform:capitalize}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{flex:1.2;font-weight:500;color:#333;text-transform:lowercase;display:flex;justify-content:center;letter-spacing:.3px}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:1;color:#666}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:.6;display:flex;justify-content:flex-end;gap:8px}@media (max-width: 768px){[_nghost-%COMP%]     nb-card-header.col-header{display:none!important}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px;padding:12px 16px;margin:10px 0;width:100%}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;text-align:left}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]   nb-tag[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   nb-user[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;gap:10px}}@media (max-width: 576px){  nb-card-header.col-header{display:none!important}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px;padding:12px 16px;margin:10px 0;width:100%}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;text-align:left}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]   nb-tag[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   nb-user[_ngcontent-%COMP%]{margin-left:0;padding:1rem 0rem}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;gap:10px}}"]})};var Ae=[{path:"",component:D,children:[{path:"admins-list",component:k},{path:"",redirectTo:"admins-list",pathMatch:"full"}]}],V=class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=x({type:l});static \u0275inj=A({imports:[j.forChild(Ae),j]})};var Oe=class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=x({type:l});static \u0275inj=A({imports:[U,he,ee,V]})};export{Oe as a};
