import{A as N,B as de,C as E,D as y,E as j,F as L,G as Ae,H as De,I as Te,J as Ve,K as ke,L as Be,M as We,N as Re,O as Fe,P as je,Q as q,R as z,S as le,T as Le,U as me,V as pe,W as U,X as qe,Y as ze,Z as Ue,_ as Ge,ba as Je,d as F,e as ee,f as we,g as te,h as ye,l as Oe,n as G,o as ne,p as ie,q as oe,r as re,s as ae,t as ce,u as Se,v as se,w as Ne,x as Ee,y as w,z as S}from"./chunk-HEBZ7I47.js";import{$b as a,Cb as g,Hb as o,Ib as n,Jb as u,Kb as V,Lb as k,Nb as I,Rb as _,Sb as C,Vb as R,X as xe,_b as B,a as P,ab as d,ac as O,b as K,bc as T,ca as X,cc as $,dc as f,ec as h,fc as v,gb as b,hc as Pe,ic as Me,jc as A,k as ve,kc as D,lc as Ie,mb as M,na as m,nb as Z,oa as p,rb as x}from"./chunk-T2RXM7XJ.js";var ue=class c{constructor(i,e,r){this.sidebarService=i;this.breakpointService=e;this.menuService=r}destroy$=new ve;loading=!1;navigationComplete=!0;loadtimePassed=!0;ngOnInit(){let{lg:i}=this.breakpointService.getBreakpointsMap();this.menuService.onItemClick().pipe(xe(this.destroy$)).subscribe(()=>{window.innerWidth<i&&this.sidebarService.collapse("super-sidebar")})}menuItems=[{title:"Invoices",icon:"file-add-outline",link:"invoices"},{title:"Products",icon:"cube",link:"products"},{title:"Profile",icon:"settings-2-outline",link:"profile"}];AdminList=[];toggle(){return this.sidebarService.toggle(!0,"super-sidebar"),!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||c)(b(Re),b(Ee),b(Be))};static \u0275cmp=M({type:c,selectors:[["admin"]],inputs:{AdminList:"AdminList"},standalone:!1,decls:11,vars:2,consts:[["fixed",""],[1,"header-container"],["nbButton","","ghost","","status","primary",3,"click"],["icon","menu-arrow-outline"],[1,"header-title"],["tag","super-sidebar","state","expanded","responsive","",2,"background-color","aliceblue"],[3,"items"],["nbSpinnerStatus","primary","fixed","",1,"layout-column",3,"nbSpinner"]],template:function(e,r){e&1&&(o(0,"nb-layout")(1,"nb-layout-header",0)(2,"div",1)(3,"button",2),_("click",function(){return r.toggle()}),u(4,"nb-icon",3),n(),o(5,"h5",4),a(6,"Admin Name"),n()()(),o(7,"nb-sidebar",5),u(8,"nb-menu",6),n(),o(9,"nb-layout-column",7),u(10,"router-outlet"),n()()),e&2&&(d(8),g("items",r.menuItems),d(),g("nbSpinner",r.loading))},dependencies:[Oe,Te,Ve,ke,Fe,y,w,We,Le],styles:["nb-list-item[_ngcontent-%COMP%]:hover{background-color:#7fffd4}.nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-icon[_ngcontent-%COMP%]{margin-left:80px}.card-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-content[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:0 1rem}.header-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.header-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600}nb-layout-header[_ngcontent-%COMP%] > .layout-container[_ngcontent-%COMP%]{padding-top:0rem!important}"]})};function Ze(c,i){if(c&1&&(o(0,"nb-option",53),a(1),n()),c&2){let e=i.$implicit;g("value",e.Name),d(),O(e.Name)}}function $e(c,i){if(c&1&&(o(0,"nb-option",53),a(1),n()),c&2){let e=i.$implicit;g("value",e),d(),O(e+"%")}}function et(c,i){if(c&1){let e=I();V(0),o(1,"div",45)(2,"div",23),a(3),n(),o(4,"div",24)(5,"nb-select",46),v("ngModelChange",function(t){let s=m(e).$implicit;return h(s.product,t)||(s.product=t),p(t)}),_("ngModelChange",function(){let t=m(e).$implicit,s=C();return p(s.updateRate(t))}),o(6,"nb-option"),a(7,"select option"),n(),x(8,Ze,2,2,"nb-option",47),n()(),o(9,"div",25)(10,"input",48),v("ngModelChange",function(t){let s=m(e).$implicit;return h(s.rate,t)||(s.rate=t),p(t)}),_("ngModelChange",function(){let t=m(e).$implicit,s=C();return p(s.calculateAmount(t))})("ngModelChange",function(){m(e);let t=C();return p(t.grandTotal())}),n()(),o(11,"div",26)(12,"input",48),v("ngModelChange",function(t){let s=m(e).$implicit;return h(s.qty,t)||(s.qty=t),p(t)}),_("ngModelChange",function(){let t=m(e).$implicit,s=C();return p(s.calculateAmount(t))})("ngModelChange",function(){m(e);let t=C();return p(t.grandTotal())}),n()(),o(13,"div",27)(14,"nb-select",49),v("ngModelChange",function(t){let s=m(e).$implicit;return h(s.gst,t)||(s.gst=t),p(t)}),_("ngModelChange",function(){let t=m(e).$implicit,s=C();return p(s.calculateAmount(t))})("ngModelChange",function(){m(e);let t=C();return p(t.grandTotal())}),o(15,"nb-option"),a(16,"select option"),n(),x(17,$e,2,2,"nb-option",47),n()(),o(18,"div",28),a(19),A(20,"currency"),n(),o(21,"div",50)(22,"button",51),_("ngModelChange",function(){m(e);let t=C();return p(t.grandTotal())})("click",function(){let t=m(e).index,s=C();return p(s.removeItem(t))}),u(23,"nb-icon",52),n()()(),k()}if(c&2){let e=i.$implicit,r=i.index,t=C();d(3),O(r+1),d(2),R("name","products_",r,""),f("ngModel",e.product),d(3),g("ngForOf",t.products),d(2),R("name","rate_",r,""),f("ngModel",e.rate),d(2),R("name","qty_",r,""),f("ngModel",e.qty),d(2),R("name","gst_",r,""),f("ngModel",e.gst),d(3),g("ngForOf",t.gstRate),d(2),T(" ",D(20,16,e.amount,"INR")," ")}}function tt(c,i){if(c&1&&(o(0,"nb-option",53),a(1),n()),c&2){let e=i.$implicit;g("value",e),d(),T(" ",e.text," ")}}function nt(c,i){if(c&1){let e=I();V(0),o(1,"nb-select",54),v("ngModelChange",function(t){let s=m(e).index,l=C();return h(l.addInvoice.statusUpdate[s],t)||(l.addInvoice.statusUpdate[s]=t),p(t)}),o(2,"nb-option"),a(3,"select option"),n(),x(4,tt,2,2,"nb-option",47),n(),k()}if(c&2){let e=i.index,r=C();d(),R("name","select_status_",e,""),f("ngModel",r.addInvoice.statusUpdate[e]),d(3),g("ngForOf",r.statusUpdate)}}function it(c,i){if(c&1){let e=I();o(0,"button",55),_("click",function(){m(e);let t=C();return p(t.saveInvoice())}),a(1," Save "),n()}if(c&2){C();let e=B(5);g("disabled",!e.valid)}}function ot(c,i){if(c&1){let e=I();o(0,"button",55),_("click",function(){m(e);let t=C();return p(t.saveInvoice())}),a(1," Add "),n()}if(c&2){C();let e=B(5);g("disabled",!e.valid)}}var Q=class c{constructor(i,e){this.invoiceDialogRef=i;this.NbTostr=e;this.invoiceCount=localStorage.getItem("Invoices")?JSON.parse(localStorage.getItem("Invoices")).length:0,this.addInvoice.invoiceId=this.invoiceCount+1,console.log(this.invoiceCount)}isEdit=!1;editInvoice;invoiceCount=0;ngOnInit(){this.getProductData(),this.isEdit&&this.editInvoice?this.addInvoice=K(P({},this.editInvoice),{items:this.editInvoice.items.map(i=>P({},i)),InvoiceDate:new Date(this.editInvoice.InvoiceDate)}):(this.invoiceCount=localStorage.getItem("Invoices")?JSON.parse(localStorage.getItem("Invoices")).length:0,this.addInvoice.invoiceId=this.invoiceCount+1)}products=[];getProductData(){let i=localStorage.getItem("Products");i&&(this.products=JSON.parse(i))}gstRate=[0,5,18,40];statusUpdate=[{text:"paid",status:"success"},{text:"pending",status:"warning"}];selectedGst=null;emptyItem(){return{product:"",qty:null,rate:null,gst:this.selectedGst,amount:null}}emptyStatus=[{status:"",text:""}];addInvoice={invoiceId:0,customerName:"",phoneNo:"",emailAddress:"",InvoiceDate:new Date,Address:"",items:[this.emptyItem()],comments:"",subtotal:0,gstAmount:0,grandTotal:0,statusUpdate:this.emptyStatus};addItem(){let i=this.addInvoice.items.length-1,e=this.addInvoice.items[i];e.product&&e.rate&&e.qty&&e.amount?this.addInvoice.items.push(this.emptyItem()):this.NbTostr.info("please enter product,rate & quantity","Details are Missing"),console.log(this.addInvoice.items)}updateRate(i){let e=this.products.find(r=>r.Name===i.product);e&&(i.rate=Number(e.Rate),this.calculateAmount(i),this.grandTotal())}removeItem(i){this.addInvoice.items.splice(i,1),this.grandTotal(),console.log(this.addInvoice.items)}calculateAmount(i){let e=Number(String(i.rate)||0),r=Number(String(i.qty)||0),t=Number(i.gst||0),s=e*r,l=s*(t/100),fe=l+s;i.amount=Number(String(fe.toFixed(2))),console.log(l)}grandTotal(){let i=0,e=0,r=0;for(let t of this.addInvoice.items){let s=Number(t.amount),fe=1+Number(t.gst)/100,he=0;he=s/fe,i+=he;let Ye=Number(t.amount);e+=Ye;let Ke=Number(t.amount)-he;r+=Ke}this.addInvoice.subtotal=i,this.addInvoice.gstAmount=r,this.addInvoice.grandTotal=e,console.log(this.addInvoice.subtotal),console.log(this.addInvoice.grandTotal)}cancel(){this.invoiceDialogRef.close()}saveInvoice(){let i=P({},this.addInvoice);i&&i.invoiceId&&i.customerName&&i.phoneNo&&i.InvoiceDate&&i.Address&&i.items&&i.statusUpdate&&this.invoiceDialogRef.close(i)}static \u0275fac=function(e){return new(e||c)(b(me),b(U))};static \u0275cmp=M({type:c,selectors:[["app-add-invoice"]],inputs:{isEdit:"isEdit",editInvoice:"editInvoice"},standalone:!1,decls:102,vars:23,consts:[["form","ngForm"],["datepicker",""],["add",""],[1,"invoice-form-card","own-scroll"],[1,"bill-head"],[1,"shopName"],[1,"section-title"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","nameInput",1,"label"],["type","text","nbInput","","fullWidth","","id","nameInput","name","customerName","placeholder","Enter Customer Name","required","",3,"ngModelChange","ngModel"],["for","phoneInput",1,"label"],["type","tel","nbInput","","fullWidth","","id","phoneInput","name","phoneNo","placeholder","Enter Phone No","required","",3,"ngModelChange","ngModel"],["for","emailInput",1,"label"],["type","email","nbInput","","fullWidth","","id","emailInput","name","emailAddress","placeholder","Enter Email Address",3,"ngModelChange","ngModel"],[1,"col-sm-6","form-group"],["for","invoiceDateInput",1,"label"],["nbInput","","fullWidth","","id","invoiceDateInput","name","invoiceDate","placeholder","Select Invoice Date","required","",3,"ngModelChange","nbDatepicker","ngModel"],["for","invoiceAddressInput",1,"label"],["nbInput","","fullWidth","","rows","3","id","invoiceAddressInput","placeholder","Add address here....","name","Address","required","",3,"ngModelChange","ngModel"],[1,"items-table-container"],[1,"items-row","header-row"],[1,"item-col","col-srno"],[1,"item-col","col-products"],[1,"item-col","col-rate"],[1,"item-col","col-qty"],[1,"item-col","col-gst"],[1,"item-col","col-amount"],[1,"item-col","col-delete"],[4,"ngFor","ngForOf"],[1,"item-col","add-item-btn-container"],["nbButton","","outline","","status","primary","size","small",3,"click"],["icon","plus-outline"],[1,"row","mt-4"],[1,"comments-title"],["nbInput","","fullWidth","","rows","4","placeholder","Add comments here...","name","comments",3,"ngModelChange","ngModel"],[1,"comment-text"],[1,"col-sm-6","totals-section"],[1,"totals-row"],[1,"totals-row","grand-total-row"],[1,"font-weight-bold"],[1,"action-buttons"],["nbButton","","status","danger",3,"click"],["nbButton","","status","success",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"items-row","data-row"],["placeholder","Choose Product","hero","","required","","fullWidth","",3,"ngModelChange","ngModel","name"],[3,"value",4,"ngFor","ngForOf"],["type","number","nbInput","","fullWidth","","required","","placeholder","0",3,"ngModelChange","ngModel","name"],["hero","","placeholder","Gst",3,"ngModelChange","ngModel","name"],[1,"delete-item-btn","col-delete"],["nbButton","","outline","","status","danger","size","small",1,"item-col",3,"ngModelChange","click"],["icon","trash-2-outline"],[3,"value"],["hero","","required","","placeholder","Payment",3,"ngModelChange","ngModel","name"],["nbButton","","status","success",3,"click","disabled"]],template:function(e,r){if(e&1){let t=I();o(0,"nb-card",3)(1,"nb-card-header"),a(2,"Add New Invoice"),n(),o(3,"nb-card-body")(4,"form",null,0)(6,"div",4)(7,"h2",5),a(8,"Shop Name"),n(),u(9,"hr"),o(10,"p"),a(11,"Address"),n()(),o(12,"h6",6),a(13,"Invoice Details"),n(),o(14,"div",7)(15,"div",8)(16,"div",9)(17,"label",10),a(18,"Name"),n(),o(19,"input",11),v("ngModelChange",function(l){return m(t),h(r.addInvoice.customerName,l)||(r.addInvoice.customerName=l),p(l)}),n()()(),o(20,"div",8)(21,"div",9)(22,"label",12),a(23,"Phone No"),n(),o(24,"input",13),v("ngModelChange",function(l){return m(t),h(r.addInvoice.phoneNo,l)||(r.addInvoice.phoneNo=l),p(l)}),n()()(),o(25,"div",8)(26,"div",9)(27,"label",14),a(28,"Email Address"),n(),o(29,"input",15),v("ngModelChange",function(l){return m(t),h(r.addInvoice.emailAddress,l)||(r.addInvoice.emailAddress=l),p(l)}),n()()(),o(30,"div",16)(31,"label",17),a(32,"Invoice Date"),n(),o(33,"input",18),v("ngModelChange",function(l){return m(t),h(r.addInvoice.InvoiceDate,l)||(r.addInvoice.InvoiceDate=l),p(l)}),n(),u(34,"nb-date-timepicker",null,1),n()(),o(36,"div",16)(37,"label",19),a(38,"Add Address"),n(),o(39,"textarea",20),v("ngModelChange",function(l){return m(t),h(r.addInvoice.Address,l)||(r.addInvoice.Address=l),p(l)}),n()(),o(40,"h5",6),a(41,"Items Details"),n(),o(42,"div",21)(43,"div",22)(44,"div",23),a(45,"Sr. No."),n(),u(46,"hr"),o(47,"div",24),a(48,"PRODUCTS"),n(),o(49,"div",25),a(50,"RATE"),n(),o(51,"div",26),a(52,"QTY"),n(),o(53,"div",27),a(54,"GST"),n(),o(55,"div",28),a(56,"AMOUNT"),n(),u(57,"div",29),n(),x(58,et,24,19,"ng-container",30),o(59,"div",31)(60,"button",32),_("click",function(){return m(t),p(r.addItem())}),u(61,"nb-icon",33),a(62," ADD "),n()()(),o(63,"div",34)(64,"div",8)(65,"h6",35),a(66,"Comments"),n(),o(67,"textarea",36),v("ngModelChange",function(l){return m(t),h(r.addInvoice.comments,l)||(r.addInvoice.comments=l),p(l)}),n(),x(68,nt,5,4,"ng-container",30),o(69,"p",37),a(70,"1. Full payment is required..."),n(),o(71,"p",37),a(72,"2. Please Provide accurate details..."),n()(),o(73,"div",38)(74,"div",39)(75,"span"),a(76,"SUBTOTAL"),n(),u(77,"hr"),o(78,"span"),a(79),A(80,"currency"),n()(),u(81,"hr"),o(82,"div",39)(83,"span"),a(84,"GST "),n(),o(85,"span"),a(86),A(87,"currency"),n()(),u(88,"hr"),o(89,"div",40)(90,"span",41),a(91,"GRAND TOTAL"),n(),o(92,"span",41),a(93),A(94,"currency"),n()()()()()(),o(95,"nb-card-footer")(96,"div",42)(97,"button",43),_("click",function(){return m(t),p(r.cancel())}),a(98,"CANCEL"),n(),x(99,it,2,1,"button",44)(100,ot,2,1,"ng-template",null,2,Ie),n()()()}if(e&2){let t=B(35),s=B(101);d(19),f("ngModel",r.addInvoice.customerName),d(5),f("ngModel",r.addInvoice.phoneNo),d(5),f("ngModel",r.addInvoice.emailAddress),d(4),g("nbDatepicker",t),f("ngModel",r.addInvoice.InvoiceDate),d(6),f("ngModel",r.addInvoice.Address),d(19),g("ngForOf",r.addInvoice.items),d(9),f("ngModel",r.addInvoice.comments),d(),g("ngForOf",r.addInvoice.statusUpdate),d(11),O(D(80,14,r.addInvoice.subtotal,"INR")),d(7),O(D(87,17,r.addInvoice.gstAmount,"INR")),d(7),T(" ",D(94,20,r.addInvoice.grandTotal,"INR")," "),d(6),g("ngIf",r.isEdit)("ngIfElse",s)}},dependencies:[F,ee,y,w,E,N,de,S,ze,qe,le,Ae,De,ce,ne,Se,ie,oe,se,ae,re,te],styles:["[_nghost-%COMP%]{display:flex}nb-card[_ngcontent-%COMP%]{flex:1 1 45%;margin:0 2.5%}nb-card.own-scroll[_ngcontent-%COMP%]{height:45rem}.invoice-form-card[_ngcontent-%COMP%]{max-width:85vw;justify-items:center;width:95vw}.bill-head[_ngcontent-%COMP%]{text-align:center;border:1px solid lightgray;border-radius:9px;padding:0 2rem 1rem;justify-content:space-between}.bill-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:clamp(16px,4vw,22px)}.section-title[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-basic-color-3);font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:.9rem;flex:1 1 45%}.items-table-container[_ngcontent-%COMP%]{border:1px solid lightgray;border-radius:20px;padding:.5rem;max-width:100rem;min-width:60rem}.items-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;border-bottom:1px solid lightgray}.header-row[_ngcontent-%COMP%]{font-weight:700;font-size:.9em;text-align:center}.nb-theme-default[_ngcontent-%COMP%]   [nbInput].shape-rectangle[_ngcontent-%COMP%]{padding:0!important}.data-row[_ngcontent-%COMP%]{position:relative;text-align:center}.data-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-col[_ngcontent-%COMP%]{padding:0 .3rem}.item-col.col-srno[_ngcontent-%COMP%]{flex-basis:5%}.item-col.col-products[_ngcontent-%COMP%]{flex-basis:25%}.item-col.col-rate[_ngcontent-%COMP%], .item-col.col-qty[_ngcontent-%COMP%]{flex-basis:17%}.item-col.col-gst[_ngcontent-%COMP%]{flex-basis:23%}.item-col.col-amount[_ngcontent-%COMP%]{flex-basis:25%;text-align:center}.item-col.col-delete[_ngcontent-%COMP%]{flex-basis:2.5%;text-align:center}.delete-item-btn[_ngcontent-%COMP%]{right:1.5rem}.add-item-btn-container[_ngcontent-%COMP%]{margin:.5rem 1rem .4rem!important;display:flex!important;justify-content:flex-start!important}.totals-section[_ngcontent-%COMP%]{padding:1rem}.totals-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.3rem .5rem}.grand-total-row[_ngcontent-%COMP%]{font-size:1.2em;color:var(--color-primary-500)}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}"]})};function rt(c,i){if(c&1&&u(0,"nb-tag",22),c&2){let e=C().$implicit;g("status",e.status)("text",e.text)}}function at(c,i){if(c&1&&(V(0),x(1,rt,1,2,"nb-tag",21),k()),c&2){let e=i.$implicit;d(),g("ngIf",e.status||e.text)}}function ct(c,i){if(c&1){let e=I();o(0,"nb-list-item",15)(1,"div",8),a(2),n(),o(3,"div",9),x(4,at,2,1,"ng-container",16),n(),o(5,"div",10),a(6),n(),o(7,"div",11),a(8),A(9,"date"),n(),o(10,"div",12)(11,"button",17),_("click",function(){let t=m(e).index,s=C();return p(s.editInvoiceDialog(t))}),u(12,"nb-icon",18),n(),o(13,"button",19),_("click",function(){let t=m(e).index,s=C();return p(s.deleteInvoice(t))}),u(14,"nb-icon",20),n()()()}if(c&2){let e=i.$implicit,r=i.index;d(2),O(r+1),d(2),g("ngForOf",e.statusUpdate),d(2),$(" ",e.invoiceId," - ",e.customerName," "),d(2),T(" ",D(9,5,e.InvoiceDate,"medium")," ")}}var ge=class c{constructor(i,e){this.invoiceDialogService=i;this.NbTostr=e;console.log()}ngOnInit(){this.getInvoiceData()}invoices=[];status=[];getInvoiceData(){let i=localStorage.getItem("Invoices");i?this.invoices=JSON.parse(i):(this.invoices,this.setInvoiceData())}setInvoiceData(){localStorage.setItem("Invoices",JSON.stringify(this.invoices))}openAddInvoiceDialog(){console.log("opening add invoice dialog..."),this.invoiceDialogService.open(Q,{context:{isEdit:!1}}).onClose.subscribe(e=>{e&&e.invoiceId&&e.customerName&&e.phoneNo&&e.InvoiceDate&&e.Address&&e.items&&e.statusUpdate&&(this.invoices.push(e),this.setInvoiceData(),this.NbTostr.success("invoice added successfully","SUCCESS")),console.log("Dialog closed",e)})}editInvoiceDialog(i){console.log("opening edit invoice Dialog....");let e=K(P({},this.invoices[i]),{items:this.invoices[i].items.map(t=>P({},t)),InvoiceDate:new Date(this.invoices[i].InvoiceDate)});console.log(e),this.invoiceDialogService.open(Q,{context:{isEdit:!0,editInvoice:e}}).onClose.subscribe(t=>{t&&t.invoiceId&&t.customerName&&t.phoneNo&&t.InvoiceDate&&t.Address&&t.items&&t.statusUpdate&&(this.invoices[i]=t,this.setInvoiceData(),this.NbTostr.success("Invoice updated successfully","SUCCESS"))})}deleteInvoice(i){this.invoices.splice(i,1),this.setInvoiceData()}refresh(){window.location.reload()}static \u0275fac=function(e){return new(e||c)(b(pe),b(U))};static \u0275cmp=M({type:c,selectors:[["invoices"]],standalone:!1,decls:27,vars:1,consts:[["size","medium"],[1,"action"],["nbButton","",3,"click"],["icon","file-add-outline","status","primary",1,"nb-icon"],["status","danger","icon","sync-outline"],["size","large"],[1,"col-header"],[1,"invoice-header"],[1,"col","index"],[1,"col","status"],[1,"col","name"],[1,"col","date"],[1,"col","actions"],[1,"invoice-list-container"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[4,"ngFor","ngForOf"],["nbButton","","size","small","ghost","","status","primary",3,"click"],["icon","edit-2-outline"],["nbButton","","size","small","ghost","","status","danger",3,"click"],["icon","trash-2"],["appearance","outline",3,"status","text",4,"ngIf"],["appearance","outline",3,"status","text"]],template:function(e,r){e&1&&(o(0,"nb-actions",0)(1,"nb-action",1)(2,"button",2),_("click",function(){return r.openAddInvoiceDialog()}),u(3,"nb-icon",3),n(),o(4,"button",2),_("click",function(){return r.refresh()}),u(5,"nb-icon",4),n()()(),o(6,"nb-card",5)(7,"nb-card-header")(8,"h5"),a(9,"Invoices"),n(),u(10,"span"),n(),o(11,"nb-card-header",6)(12,"div",7)(13,"div",8),a(14,"#"),n(),o(15,"div",9),a(16,"Status"),n(),o(17,"div",10),a(18,"Name"),n(),o(19,"div",11),a(20,"Date"),n(),o(21,"div",12),a(22,"Actions"),n()()(),o(23,"nb-card-body")(24,"div",13)(25,"nb-list"),x(26,ct,15,8,"nb-list-item",14),n()()()()),e&2&&(d(26),g("ngForOf",r.invoices))},dependencies:[F,ee,y,w,q,z,E,N,S,j,L,Ge,we],styles:["[_nghost-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 1rem}[_nghost-%COMP%]   .invoice-list-container[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;padding-bottom:10px}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:transparent;padding:5px 20px;box-sizing:border-box}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:#f7f9fc;border-radius:8px;padding:8px 40px 8px 30px;font-weight:600;color:#444;border:1px solid #eee;box-sizing:border-box}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-align:center;white-space:nowrap}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{flex:.3}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{flex:.8}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1.2}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .invoice-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:.6;text-align:end}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:10px;box-shadow:0 2px 6px #0000000d;padding:12px 20px;margin:8px 0;width:100%;transition:box-shadow .2s ease}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]:hover{box-shadow:0 3px 10px #00000014}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{flex:.3;font-weight:600;color:#000;font-size:larger}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{flex:.8;display:flex;justify-content:center}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1.2;font-weight:500;color:#333;text-transform:capitalize;display:flex;justify-content:center}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:1;color:#666}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:.6;display:flex;justify-content:flex-end;gap:8px}@media (max-width: 768px){[_nghost-%COMP%]     nb-card-header.col-header{display:none!important}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px;padding:12px 16px;margin:10px 0;width:100%}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;text-align:left}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   nb-tag[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;gap:10px}}@media (max-width: 576px){  nb-card-header.col-header{display:none!important}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px;padding:12px 16px;margin:10px 0;width:100%}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;text-align:left}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   nb-tag[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   nb-list-item.list-item[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;gap:10px}}"]})};var Y=class c{constructor(i){this.dialogRef=i;this.productCount=localStorage.getItem("Products")?JSON.parse(localStorage.getItem("Products")).length:0,this.newProduct.ProductId=this.productCount+1,console.log(this.productCount)}isEdit=!1;editProduct;productCount=0;ngOnInit(){this.isEdit&&this.editProduct?this.newProduct=P({},this.editProduct):(this.productCount=localStorage.getItem("Products")?JSON.parse(localStorage.getItem("Products")).length:0,this.newProduct.ProductId=this.productCount+1)}newProduct={ProductId:"",Name:"",Rate:null};addProduct(){let i=P({},this.newProduct);i.ProductId&&i.Name&&i.Rate&&this.dialogRef.close(i)}close(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||c)(b(me))};static \u0275cmp=M({type:c,selectors:[["app-add-product"]],inputs:{isEdit:"isEdit",editProduct:"editProduct"},standalone:!1,decls:22,vars:3,consts:[["form","ngForm"],["nbButton","","status","danger","ghost","",1,"close",3,"click"],["icon","close"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","nameInput",1,"label"],["type","text","nbInput","","fullWidth","","id","nameInput","name","productName","placeholder","Enter Product Name","required","",3,"ngModelChange","ngModel"],["for","rateInput",1,"label"],["type","text","nbInput","","fullWidth","","id","rateInput","name","Rate","placeholder","Enter Rate","required","",3,"ngModelChange","ngModel"],[1,"action-buttons"],["nbButton","","status","primary",3,"click","disabled"]],template:function(e,r){if(e&1){let t=I();o(0,"nb-card")(1,"nb-card-header"),a(2,"Add new Product "),o(3,"button",1),_("click",function(){return m(t),p(r.close())}),u(4,"nb-icon",2),n()(),o(5,"nb-card-body")(6,"form",null,0)(8,"div",3)(9,"div",4)(10,"div",5)(11,"label",6),a(12,"Product Name"),n(),o(13,"input",7),v("ngModelChange",function(l){return m(t),h(r.newProduct.Name,l)||(r.newProduct.Name=l),p(l)}),n()(),o(14,"div",5)(15,"label",8),a(16,"Rate"),n(),o(17,"input",9),v("ngModelChange",function(l){return m(t),h(r.newProduct.Rate,l)||(r.newProduct.Rate=l),p(l)}),n()()()()()(),o(18,"nb-card-footer")(19,"div",10)(20,"button",11),_("click",function(){return m(t),p(r.addProduct())}),a(21,"add"),n()()()()}if(e&2){let t=B(7);d(13),f("ngModel",r.newProduct.Name),d(4),f("ngModel",r.newProduct.Rate),d(3),g("disabled",!t.valid)}},dependencies:[y,w,E,N,de,S,le,ce,ne,ie,oe,se,ae,re],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}.close[_ngcontent-%COMP%]{float:right;margin-top:-5px;margin-right:-5px;margin-bottom:-5px;cursor:pointer}  button+button{margin:0rem 1rem}"]})};function st(c,i){if(c&1){let e=I();o(0,"nb-list-item",14)(1,"div",8),a(2),n(),o(3,"div",9),a(4),n(),o(5,"div",10),a(6),A(7,"currency"),n(),o(8,"div",11)(9,"button",15),_("click",function(){let t=m(e).index,s=C();return p(s.editProductDialog(t))}),u(10,"nb-icon",16),n(),o(11,"button",17),_("click",function(){let t=m(e).index,s=C();return p(s.deleteProduct(t))}),u(12,"nb-icon",18),n()()()}if(c&2){let e=i.$implicit,r=i.index;d(2),O(r+1),d(2),$(" ",e.ProductId," - ",e.Name," "),d(2),T(" ",D(7,4,e.Rate,"INR")," ")}}var _e=class c{constructor(i,e){this.productDialogService=i;this.NbTostr=e}ngOnInit(){this.getProductsData()}Products=[];getProductsData(){let i=localStorage.getItem("Products");i?this.Products=JSON.parse(i):(this.Products=[{ProductId:"1",Name:"dummy data",Rate:100}],this.setProductsData()),console.table(this.Products)}setProductsData(){localStorage.setItem("Products",JSON.stringify(this.Products))}openAddProductDialog(){console.log("opening add product dialog..."),this.productDialogService.open(Y,{context:{isEdit:!1}}).onClose.subscribe(e=>{if(e&&e.ProductId&&e.Name&&e.Rate){if(this.Products.find(t=>t.Name===e.Name)){this.NbTostr.danger("please use unique name for Products",`${e.Name} already exist.`);return}console.log("Product received:",e),this.Products.push(e),this.setProductsData(),this.NbTostr.success("Product added successfully.","SUCCESS",{duration:3e3})}console.log("Dialog closed",e)})}editProductDialog(i){console.log("opening edit product dialog...");let e=P({},this.Products[i]);console.log(e),this.productDialogService.open(Y,{context:{isEdit:!0,editProduct:e}}).onClose.subscribe(t=>{t&&t.ProductId&&t.Name&&t.Rate&&(this.Products[i]=t,this.setProductsData(),this.NbTostr.success("Product updated successfully","SUCCESS"))})}deleteProduct(i){this.Products.splice(i,1),this.setProductsData()}refresh(){window.location.reload()}static \u0275fac=function(e){return new(e||c)(b(pe),b(U))};static \u0275cmp=M({type:c,selectors:[["products"]],standalone:!1,decls:24,vars:1,consts:[["size","medium"],[1,"action"],["nbButton","",3,"click"],["icon","plus-outline","status","primary",1,"nb-icon"],["status","danger","icon","sync-outline"],["size","large"],[1,"col-header"],[1,"product-header"],[1,"col","index"],[1,"col","name"],[1,"col","price"],[1,"col","actions"],[1,"product-list-container"],["class","product-list",4,"ngFor","ngForOf"],[1,"product-list"],["nbButton","","size","small","ghost","","status","primary",3,"click"],["icon","edit-2-outline",1,"card-icon"],["nbButton","","size","small","ghost","","status","danger",3,"click"],["icon","trash-2",1,"card-icon"]],template:function(e,r){e&1&&(o(0,"nb-actions",0)(1,"nb-action",1)(2,"button",2),_("click",function(){return r.openAddProductDialog()}),u(3,"nb-icon",3),n(),o(4,"button",2),_("click",function(){return r.refresh()}),u(5,"nb-icon",4),n()()(),o(6,"nb-card",5)(7,"nb-card-header")(8,"h5"),a(9,"Products"),n()(),o(10,"nb-card-header",6)(11,"div",7)(12,"div",8),a(13,"#"),n(),o(14,"div",9),a(15,"Name"),n(),o(16,"div",10),a(17,"Price"),n(),o(18,"div",11),a(19,"Actions"),n()()(),o(20,"nb-card-body")(21,"div",12)(22,"nb-list"),x(23,st,13,7,"nb-list-item",13),n()()()()),e&2&&(d(23),g("ngForOf",r.Products))},dependencies:[F,y,w,q,z,E,N,S,j,L,te],styles:["[_nghost-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 1rem}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:transparent;padding:5px 20px;box-sizing:border-box}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:#f7f9fc;border-radius:8px;padding:8px 35px;font-weight:600;color:#444;border:1px solid #eee;box-sizing:border-box}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-align:center;white-space:nowrap}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{flex:.3}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1.3}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   nb-card-header.col-header[_ngcontent-%COMP%]   .product-header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:.5;text-align:right}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#fff;border-radius:10px;box-shadow:0 2px 6px #0000000d;padding:12px 20px;margin:8px 0;width:100%;transition:box-shadow .2s ease}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]:hover{box-shadow:0 3px 10px #00000014}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{flex:.3;font-weight:600;color:#000;font-size:larger}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1.3;font-weight:500;color:#333;text-transform:capitalize}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{flex:1;color:#666;font-weight:500}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex:.5;display:flex;justify-content:flex-end;gap:8px}@media (max-width: 576px){  nb-card-header.col-header{display:none!important}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:6px;padding:12px 16px;margin:10px 0;width:100%}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;text-align:left}[_nghost-%COMP%]   nb-list-item.product-list[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;gap:10px}}"]})};var dt=()=>({type:"shake"}),lt=c=>({animation:c}),Ce=class c{static \u0275fac=function(e){return new(e||c)};static \u0275cmp=M({type:c,selectors:[["app-profile"]],standalone:!1,decls:13,vars:4,consts:[["size","medium"],["nbButton",""],["icon","edit-2-outline",1,"nb-icon"],[1,"card-content"],["icon","trash-2",1,"card-icon",3,"options"]],template:function(e,r){e&1&&(o(0,"nb-actions",0)(1,"nb-action")(2,"button",1),u(3,"nb-icon",2),n()()(),o(4,"nb-card",0)(5,"nb-card-header"),a(6,"Invoices"),n(),o(7,"nb-card-body"),V(8),o(9,"nb-list")(10,"nb-list-item",3),u(11,"nb-user")(12,"nb-icon",4),n()(),k(),n()()),e&2&&(d(12),g("options",Me(2,lt,Pe(1,dt))))},dependencies:[y,w,q,z,E,N,S,je,j,L],styles:[".nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-icon[_ngcontent-%COMP%]{margin-left:80px!important}.card-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-content[_ngcontent-%COMP%]{justify-content:space-between;display:flex}"]})};var mt=[{path:"",component:ue,children:[{path:"invoices",component:ge},{path:"products",component:_e},{path:"profile",component:Ce},{path:"",redirectTo:"invoices",pathMatch:"full"}]}],be=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=Z({type:c});static \u0275inj=X({imports:[G.forChild(mt),G]})};var Qe=class c{static \u0275fac=function(e){return new(e||c)};static \u0275mod=Z({type:c});static \u0275inj=X({imports:[ye,G,Je,Ue.forChild(),be,Ne]})};export{Qe as a};
