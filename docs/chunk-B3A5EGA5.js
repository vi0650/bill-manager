import{$ as Le,A as O,B as E,C as me,D as A,E as x,F as q,G as U,H as Oe,I as Ee,J as Ae,K as De,L as Te,M as Ve,N as ke,O as Re,P as We,Q as z,R as G,S as pe,T as Be,U as ue,V as ge,W as J,X as Fe,Y as je,aa as qe,b as L,c as ne,d as we,e as ie,ea as Ue,f as ye,k as Me,l as xe,p as H,q as oe,r as re,s as ae,t as ce,u as se,v as le,w as Ne,x as de,y as Se,z as M}from"./chunk-CLIGMJ2H.js";import{$b as k,Db as u,Ib as o,Jb as i,Kb as g,Lb as N,Mb as S,Ob as y,Sb as _,Tb as C,Wb as W,a as P,ab as l,ac as c,b as Z,bc as V,ca as $,cc as B,dc as te,ec as f,fc as b,gb as h,gc as v,ic as F,jc as j,kc as D,mb as w,mc as T,na as m,nb as ee,nc as Pe,oa as p,rb as I}from"./chunk-ACQLDL5Y.js";var _e=class a{constructor(n,e){this.sidebarService=n;this.router=e}loading=!1;navigationComplete=!0;loadtimePassed=!0;ngOnInit(){}menuItems=[{title:"Invoices",icon:"file-add-outline",link:"invoices"},{title:"Products",icon:"cube",link:"products"},{title:"Profile",icon:"settings-2-outline",link:"profile"}];AdminList=[];toggle(){return this.sidebarService.toggle(!0,"super-sidebar"),!1}static \u0275fac=function(e){return new(e||a)(h(ke),h(xe))};static \u0275cmp=w({type:a,selectors:[["admin"]],inputs:{AdminList:"AdminList"},standalone:!1,decls:11,vars:2,consts:[["fixed",""],[1,"header-container"],["nbButton","","ghost","",3,"click"],["icon","menu-arrow-outline"],[1,"header-title"],["tag","super-sidebar","state","expanded","responsive","",2,"background-color","aliceblue"],[3,"items"],["nbSpinnerStatus","primary","fixed","",1,"layout-column",3,"nbSpinner"]],template:function(e,r){e&1&&(o(0,"nb-layout")(1,"nb-layout-header",0)(2,"div",1)(3,"button",2),_("click",function(){return r.toggle()}),g(4,"nb-icon",3),i(),o(5,"span",4),c(6,"Admin Name"),i()()(),o(7,"nb-sidebar",5),g(8,"nb-menu",6),i(),o(9,"nb-layout-column",7),g(10,"router-outlet"),i()()),e&2&&(l(8),u("items",r.menuItems),l(),u("nbSpinner",r.loading))},dependencies:[Me,Ae,De,Te,Re,x,M,Ve,Be],styles:["nb-list-item[_ngcontent-%COMP%]:hover{background-color:#7fffd4}.nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-icon[_ngcontent-%COMP%]{margin-left:80px}.card-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-content[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:0 1rem}.header-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.header-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}[_nghost-%COMP%]     .layout-container{padding-top:0!important}nb-layout-header[_ngcontent-%COMP%] > .layout-container[_ngcontent-%COMP%]{padding-top:0}"]})};function Ye(a,n){if(a&1&&(o(0,"nb-option",53),c(1),i()),a&2){let e=n.$implicit;u("value",e.Name),l(),V(e.Name)}}function Ke(a,n){if(a&1&&(o(0,"nb-option",53),c(1),i()),a&2){let e=n.$implicit;u("value",e),l(),V(e+"%")}}function Xe(a,n){if(a&1){let e=y();N(0),o(1,"div",45)(2,"div",23),c(3),i(),o(4,"div",24)(5,"nb-select",46),v("ngModelChange",function(t){let s=m(e).$implicit;return b(s.product,t)||(s.product=t),p(t)}),_("ngModelChange",function(){let t=m(e).$implicit,s=C();return p(s.updateRate(t))}),o(6,"nb-option"),c(7,"select option"),i(),I(8,Ye,2,2,"nb-option",47),i()(),o(9,"div",25)(10,"input",48),v("ngModelChange",function(t){let s=m(e).$implicit;return b(s.rate,t)||(s.rate=t),p(t)}),_("ngModelChange",function(){let t=m(e).$implicit,s=C();return p(s.calculateAmount(t))})("ngModelChange",function(){m(e);let t=C();return p(t.grandTotal())}),i()(),o(11,"div",26)(12,"input",48),v("ngModelChange",function(t){let s=m(e).$implicit;return b(s.qty,t)||(s.qty=t),p(t)}),_("ngModelChange",function(){let t=m(e).$implicit,s=C();return p(s.calculateAmount(t))})("ngModelChange",function(){m(e);let t=C();return p(t.grandTotal())}),i()(),o(13,"div",27)(14,"nb-select",49),v("ngModelChange",function(t){let s=m(e).$implicit;return b(s.gst,t)||(s.gst=t),p(t)}),_("ngModelChange",function(){let t=m(e).$implicit,s=C();return p(s.calculateAmount(t))})("ngModelChange",function(){m(e);let t=C();return p(t.grandTotal())}),o(15,"nb-option"),c(16,"select option"),i(),I(17,Ke,2,2,"nb-option",47),i()(),o(18,"div",28),c(19),D(20,"currency"),i(),o(21,"div",50)(22,"button",51),_("ngModelChange",function(){m(e);let t=C();return p(t.grandTotal())})("click",function(){let t=m(e).index,s=C();return p(s.removeItem(t))}),g(23,"nb-icon",52),i()()(),S()}if(a&2){let e=n.$implicit,r=n.index,t=C();l(3),V(r+1),l(2),W("name","products_",r,""),f("ngModel",e.product),l(3),u("ngForOf",t.products),l(2),W("name","rate_",r,""),f("ngModel",e.rate),l(2),W("name","qty_",r,""),f("ngModel",e.qty),l(2),W("name","gst_",r,""),f("ngModel",e.gst),l(3),u("ngForOf",t.gstRate),l(2),B(" ",T(20,16,e.amount,"INR")," ")}}function Ze(a,n){if(a&1&&(o(0,"nb-option",53),c(1),i()),a&2){let e=n.$implicit;u("value",e),l(),B(" ",e.text," ")}}function $e(a,n){if(a&1){let e=y();N(0),o(1,"nb-select",54),v("ngModelChange",function(t){let s=m(e).index,d=C();return b(d.addInvoice.statusUpdate[s],t)||(d.addInvoice.statusUpdate[s]=t),p(t)}),o(2,"nb-option"),c(3,"select option"),i(),I(4,Ze,2,2,"nb-option",47),i(),S()}if(a&2){let e=n.index,r=C();l(),W("name","select_status_",e,""),f("ngModel",r.addInvoice.statusUpdate[e]),l(3),u("ngForOf",r.statusUpdate)}}function et(a,n){if(a&1){let e=y();o(0,"button",55),_("click",function(){m(e);let t=C();return p(t.saveInvoice())}),c(1," Save "),i()}if(a&2){C();let e=k(5);u("disabled",!e.valid)}}function tt(a,n){if(a&1){let e=y();o(0,"button",55),_("click",function(){m(e);let t=C();return p(t.saveInvoice())}),c(1," Add "),i()}if(a&2){C();let e=k(5);u("disabled",!e.valid)}}var K=class a{constructor(n,e){this.invoiceDialogRef=n;this.NbTostr=e;this.invoiceCount=localStorage.getItem("Invoices")?JSON.parse(localStorage.getItem("Invoices")).length:0,this.addInvoice.invoiceId=this.invoiceCount+1,console.log(this.invoiceCount)}isEdit=!1;editInvoice;invoiceCount=0;ngOnInit(){this.getProductData(),this.isEdit&&this.editInvoice?this.addInvoice=Z(P({},this.editInvoice),{items:this.editInvoice.items.map(n=>P({},n)),InvoiceDate:new Date(this.editInvoice.InvoiceDate)}):(this.invoiceCount=localStorage.getItem("Invoices")?JSON.parse(localStorage.getItem("Invoices")).length:0,this.addInvoice.invoiceId=this.invoiceCount+1)}products=[];getProductData(){let n=localStorage.getItem("Products");n&&(this.products=JSON.parse(n))}gstRate=[0,5,18,40];statusUpdate=[{text:"paid",status:"success"},{text:"pending",status:"warning"}];selectedGst=null;emptyItem(){return{product:"",qty:null,rate:null,gst:this.selectedGst,amount:null}}emptyStatus=[{status:"",text:""}];addInvoice={invoiceId:0,customerName:"",phoneNo:"",emailAddress:"",InvoiceDate:new Date,Address:"",items:[this.emptyItem()],comments:"",subtotal:0,gstAmount:0,grandTotal:0,statusUpdate:this.emptyStatus};addItem(){let n=this.addInvoice.items.length-1,e=this.addInvoice.items[n];e.product&&e.rate&&e.qty&&e.amount?this.addInvoice.items.push(this.emptyItem()):this.NbTostr.info("please enter product,rate & quantity","Details are Missing"),console.log(this.addInvoice.items)}updateRate(n){let e=this.products.find(r=>r.Name===n.product);e&&(n.rate=Number(e.Rate),this.calculateAmount(n),this.grandTotal())}removeItem(n){this.addInvoice.items.splice(n,1),this.grandTotal(),console.log(this.addInvoice.items)}calculateAmount(n){let e=Number(String(n.rate)||0),r=Number(String(n.qty)||0),t=Number(n.gst||0),s=e*r,d=s*(t/100),he=d+s;n.amount=Number(String(he.toFixed(2))),console.log(d)}grandTotal(){let n=0,e=0,r=0;for(let t of this.addInvoice.items){let s=Number(t.amount),he=1+Number(t.gst)/100,Ie=0;Ie=s/he,n+=Ie;let Je=Number(t.amount);e+=Je;let He=Number(t.amount)-Ie;r+=He}this.addInvoice.subtotal=n,this.addInvoice.gstAmount=r,this.addInvoice.grandTotal=e,console.log(this.addInvoice.subtotal),console.log(this.addInvoice.grandTotal)}cancel(){this.invoiceDialogRef.close()}saveInvoice(){let n=P({},this.addInvoice);n&&n.invoiceId&&n.customerName&&n.phoneNo&&n.InvoiceDate&&n.Address&&n.items&&n.statusUpdate&&this.invoiceDialogRef.close(n)}static \u0275fac=function(e){return new(e||a)(h(ue),h(J))};static \u0275cmp=w({type:a,selectors:[["app-add-invoice"]],inputs:{isEdit:"isEdit",editInvoice:"editInvoice"},standalone:!1,decls:102,vars:23,consts:[["form","ngForm"],["datepicker",""],["add",""],[1,"invoice-form-card","own-scroll"],[1,"bill-head"],[1,"shopName"],[1,"section-title"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","nameInput",1,"label"],["type","text","nbInput","","fullWidth","","id","nameInput","name","customerName","placeholder","Enter Customer Name","required","",3,"ngModelChange","ngModel"],["for","phoneInput",1,"label"],["type","tel","nbInput","","fullWidth","","id","phoneInput","name","phoneNo","placeholder","Enter Phone No","required","",3,"ngModelChange","ngModel"],["for","emailInput",1,"label"],["type","email","nbInput","","fullWidth","","id","emailInput","name","emailAddress","placeholder","Enter Email Address",3,"ngModelChange","ngModel"],[1,"col-sm-6","form-group"],["for","invoiceDateInput",1,"label"],["nbInput","","fullWidth","","id","invoiceDateInput","name","invoiceDate","placeholder","Select Invoice Date","required","",3,"ngModelChange","nbDatepicker","ngModel"],["for","invoiceAddressInput",1,"label"],["nbInput","","fullWidth","","rows","3","id","invoiceAddressInput","placeholder","Add address here....","name","Address","required","",3,"ngModelChange","ngModel"],[1,"items-table-container"],[1,"items-row","header-row"],[1,"item-col","col-srno"],[1,"item-col","col-products"],[1,"item-col","col-rate"],[1,"item-col","col-qty"],[1,"item-col","col-gst"],[1,"item-col","col-amount"],[1,"item-col","col-delete"],[4,"ngFor","ngForOf"],[1,"item-col","add-item-btn-container"],["nbButton","","outline","","status","primary","size","small",3,"click"],["icon","plus-outline"],[1,"row","mt-4"],[1,"comments-title"],["nbInput","","fullWidth","","rows","4","placeholder","Add comments here...","name","comments",3,"ngModelChange","ngModel"],[1,"comment-text"],[1,"col-sm-6","totals-section"],[1,"totals-row"],[1,"totals-row","grand-total-row"],[1,"font-weight-bold"],[1,"action-buttons"],["nbButton","","status","danger",3,"click"],["nbButton","","status","success",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"items-row","data-row"],["placeholder","Choose Product","hero","","required","","fullWidth","",3,"ngModelChange","ngModel","name"],[3,"value",4,"ngFor","ngForOf"],["type","number","nbInput","","fullWidth","","required","","placeholder","0",3,"ngModelChange","ngModel","name"],["hero","","placeholder","Gst",3,"ngModelChange","ngModel","name"],[1,"delete-item-btn","col-delete"],["nbButton","","outline","","status","danger","size","small",1,"item-col",3,"ngModelChange","click"],["icon","trash-2-outline"],[3,"value"],["hero","","required","","placeholder","Payment",3,"ngModelChange","ngModel","name"],["nbButton","","status","success",3,"click","disabled"]],template:function(e,r){if(e&1){let t=y();o(0,"nb-card",3)(1,"nb-card-header"),c(2,"Add New Invoice"),i(),o(3,"nb-card-body")(4,"form",null,0)(6,"div",4)(7,"h2",5),c(8,"Shop Name"),i(),g(9,"hr"),o(10,"p"),c(11,"Address"),i()(),o(12,"h6",6),c(13,"Invoice Details"),i(),o(14,"div",7)(15,"div",8)(16,"div",9)(17,"label",10),c(18,"Name"),i(),o(19,"input",11),v("ngModelChange",function(d){return m(t),b(r.addInvoice.customerName,d)||(r.addInvoice.customerName=d),p(d)}),i()()(),o(20,"div",8)(21,"div",9)(22,"label",12),c(23,"Phone No"),i(),o(24,"input",13),v("ngModelChange",function(d){return m(t),b(r.addInvoice.phoneNo,d)||(r.addInvoice.phoneNo=d),p(d)}),i()()(),o(25,"div",8)(26,"div",9)(27,"label",14),c(28,"Email Address"),i(),o(29,"input",15),v("ngModelChange",function(d){return m(t),b(r.addInvoice.emailAddress,d)||(r.addInvoice.emailAddress=d),p(d)}),i()()(),o(30,"div",16)(31,"label",17),c(32,"Invoice Date"),i(),o(33,"input",18),v("ngModelChange",function(d){return m(t),b(r.addInvoice.InvoiceDate,d)||(r.addInvoice.InvoiceDate=d),p(d)}),i(),g(34,"nb-date-timepicker",null,1),i()(),o(36,"div",16)(37,"label",19),c(38,"Add Address"),i(),o(39,"textarea",20),v("ngModelChange",function(d){return m(t),b(r.addInvoice.Address,d)||(r.addInvoice.Address=d),p(d)}),i()(),o(40,"h5",6),c(41,"Items Details"),i(),o(42,"div",21)(43,"div",22)(44,"div",23),c(45,"Sr. No."),i(),g(46,"hr"),o(47,"div",24),c(48,"PRODUCTS"),i(),o(49,"div",25),c(50,"RATE"),i(),o(51,"div",26),c(52,"QTY"),i(),o(53,"div",27),c(54,"GST"),i(),o(55,"div",28),c(56,"AMOUNT"),i(),g(57,"div",29),i(),I(58,Xe,24,19,"ng-container",30),o(59,"div",31)(60,"button",32),_("click",function(){return m(t),p(r.addItem())}),g(61,"nb-icon",33),c(62," ADD "),i()()(),o(63,"div",34)(64,"div",8)(65,"h6",35),c(66,"Comments"),i(),o(67,"textarea",36),v("ngModelChange",function(d){return m(t),b(r.addInvoice.comments,d)||(r.addInvoice.comments=d),p(d)}),i(),I(68,$e,5,4,"ng-container",30),o(69,"p",37),c(70,"1. Full payment is required..."),i(),o(71,"p",37),c(72,"2. Please Provide accurate details..."),i()(),o(73,"div",38)(74,"div",39)(75,"span"),c(76,"SUBTOTAL"),i(),g(77,"hr"),o(78,"span"),c(79),D(80,"currency"),i()(),g(81,"hr"),o(82,"div",39)(83,"span"),c(84,"GST "),i(),o(85,"span"),c(86),D(87,"currency"),i()(),g(88,"hr"),o(89,"div",40)(90,"span",41),c(91,"GRAND TOTAL"),i(),o(92,"span",41),c(93),D(94,"currency"),i()()()()()(),o(95,"nb-card-footer")(96,"div",42)(97,"button",43),_("click",function(){return m(t),p(r.cancel())}),c(98,"CANCEL"),i(),I(99,et,2,1,"button",44)(100,tt,2,1,"ng-template",null,2,Pe),i()()()}if(e&2){let t=k(35),s=k(101);l(19),f("ngModel",r.addInvoice.customerName),l(5),f("ngModel",r.addInvoice.phoneNo),l(5),f("ngModel",r.addInvoice.emailAddress),l(4),u("nbDatepicker",t),f("ngModel",r.addInvoice.InvoiceDate),l(6),f("ngModel",r.addInvoice.Address),l(19),u("ngForOf",r.addInvoice.items),l(9),f("ngModel",r.addInvoice.comments),l(),u("ngForOf",r.addInvoice.statusUpdate),l(11),V(T(80,14,r.addInvoice.subtotal,"INR")),l(7),V(T(87,17,r.addInvoice.gstAmount,"INR")),l(7),B(" ",T(94,20,r.addInvoice.grandTotal,"INR")," "),l(6),u("ngIf",r.isEdit)("ngIfElse",s)}},dependencies:[L,ne,x,M,A,E,me,O,je,Fe,pe,Oe,Ee,le,oe,Ne,re,ae,de,se,ce,ie],styles:["[_nghost-%COMP%]{display:flex}nb-card[_ngcontent-%COMP%]{flex:1 1 45%;margin:0 2.5%}nb-card.own-scroll[_ngcontent-%COMP%]{height:45rem}.invoice-form-card[_ngcontent-%COMP%]{max-width:85vw;justify-items:center;width:95vw}.bill-head[_ngcontent-%COMP%]{text-align:center;border:1px solid lightgray;border-radius:9px;padding:0 2rem 1rem;justify-content:space-between}.bill-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:clamp(16px,4vw,22px)}.section-title[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-basic-color-3);font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:.9rem;flex:1 1 45%}.items-table-container[_ngcontent-%COMP%]{border:1px solid lightgray;border-radius:20px;padding:.5rem;max-width:100rem;min-width:60rem}.items-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;border-bottom:1px solid lightgray}.header-row[_ngcontent-%COMP%]{font-weight:700;font-size:.9em;text-align:center}.nb-theme-default[_ngcontent-%COMP%]   [nbInput].shape-rectangle[_ngcontent-%COMP%]{padding:0!important}.data-row[_ngcontent-%COMP%]{position:relative;text-align:center}.data-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-col[_ngcontent-%COMP%]{padding:0 .3rem}.item-col.col-srno[_ngcontent-%COMP%]{flex-basis:5%}.item-col.col-products[_ngcontent-%COMP%]{flex-basis:25%}.item-col.col-rate[_ngcontent-%COMP%], .item-col.col-qty[_ngcontent-%COMP%]{flex-basis:17%}.item-col.col-gst[_ngcontent-%COMP%]{flex-basis:23%}.item-col.col-amount[_ngcontent-%COMP%]{flex-basis:25%;text-align:center}.item-col.col-delete[_ngcontent-%COMP%]{flex-basis:2.5%;text-align:center}.delete-item-btn[_ngcontent-%COMP%]{right:1.5rem}.add-item-btn-container[_ngcontent-%COMP%]{margin:.5rem 1rem .4rem!important;display:flex!important;justify-content:flex-start!important}.totals-section[_ngcontent-%COMP%]{padding:1rem}.totals-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.3rem .5rem}.grand-total-row[_ngcontent-%COMP%]{font-size:1.2em;color:var(--color-primary-500)}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}"]})};var nt=()=>({type:"pulse"}),it=a=>({animation:a});function ot(a,n){if(a&1&&g(0,"nb-tag",18),a&2){let e=C().$implicit;u("status",e.status)("text",e.text)}}function rt(a,n){if(a&1&&(N(0),I(1,ot,1,2,"nb-tag",17),S()),a&2){let e=n.$implicit;l(),u("ngIf",e.status||e.text)}}function at(a,n){if(a&1){let e=y();o(0,"nb-list-item",6)(1,"div",7),I(2,rt,2,1,"ng-container",8),i(),o(3,"div",9)(4,"span",10),c(5),i(),o(6,"div",11)(7,"span",11),c(8),D(9,"date"),i()()(),o(10,"div",12)(11,"button",13)(12,"nb-icon",14),_("click",function(){let t=m(e).index,s=C();return p(s.editInvoiceDialog(t))}),i()(),o(13,"button",15),_("click",function(){let t=m(e).index,s=C();return p(s.deleteInvoice(t))}),g(14,"nb-icon",16),i()()()}if(a&2){let e=n.$implicit;l(2),u("ngForOf",e.statusUpdate),l(3),te(" ",e.invoiceId," - ",e.customerName," "),l(3),B(" ",T(9,5,e.InvoiceDate,"medium")," "),l(6),u("options",j(9,it,F(8,nt)))}}var Ce=class a{constructor(n,e){this.invoiceDialogService=n;this.NbTostr=e}ngOnInit(){this.getInvoiceData()}invoices=[];status=[];getInvoiceData(){let n=localStorage.getItem("Invoices");n?this.invoices=JSON.parse(n):(this.invoices,this.setInvoiceData())}setInvoiceData(){localStorage.setItem("Invoices",JSON.stringify(this.invoices))}openAddInvoiceDialog(){console.log("opening add invoice dialog..."),this.invoiceDialogService.open(K,{context:{isEdit:!1}}).onClose.subscribe(e=>{e&&e.invoiceId&&e.customerName&&e.phoneNo&&e.InvoiceDate&&e.Address&&e.items&&e.statusUpdate&&(this.invoices.push(e),this.setInvoiceData(),this.NbTostr.success("invoice added successfully","SUCCESS")),console.log("Dialog closed",e)})}editInvoiceDialog(n){console.log("opening edit invoice Dialog....");let e=Z(P({},this.invoices[n]),{items:this.invoices[n].items.map(t=>P({},t)),InvoiceDate:new Date(this.invoices[n].InvoiceDate)});console.log(e),this.invoiceDialogService.open(K,{context:{isEdit:!0,editInvoice:e}}).onClose.subscribe(t=>{t&&t.invoiceId&&t.customerName&&t.phoneNo&&t.InvoiceDate&&t.Address&&t.items&&t.statusUpdate?(this.invoices[n]=t,this.setInvoiceData(),this.NbTostr.success("Invoice updated successfully","SUCCESS")):this.NbTostr.info("please add necessary field like invoice status","INFO")})}deleteInvoice(n){this.invoices.splice(n,1),this.setInvoiceData()}refresh(){window.location.reload()}static \u0275fac=function(e){return new(e||a)(h(ge),h(J))};static \u0275cmp=w({type:a,selectors:[["invoices"]],standalone:!1,decls:13,vars:1,consts:[["size","medium"],[1,"action"],["nbButton","",3,"click"],["icon","file-add-outline","status","primary",1,"nb-icon"],["status","danger","icon","sync-outline"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[1,"invoice-status"],[4,"ngFor","ngForOf"],[1,"invoice-details"],[1,"invoice-name"],[1,"invoice-date"],[1,"product-actions"],["nbButton","","size","small","ghost","","status","primary"],["icon","edit-2-outline",1,"card-icon",3,"click"],["nbButton","","size","small","ghost","","status","danger",3,"click"],["icon","trash-2",1,"card-icon",3,"options"],["appearance","outline",3,"status","text",4,"ngIf"],["appearance","outline",3,"status","text"]],template:function(e,r){e&1&&(o(0,"nb-actions",0)(1,"nb-action",1)(2,"button",2),_("click",function(){return r.openAddInvoiceDialog()}),g(3,"nb-icon",3),i(),o(4,"button",2),_("click",function(){return r.refresh()}),g(5,"nb-icon",4),i()()(),o(6,"nb-card",0)(7,"nb-card-header"),c(8,"Invoices"),i(),o(9,"nb-card-body"),N(10),o(11,"nb-list"),I(12,at,15,11,"nb-list-item",5),i(),S(),i()()),e&2&&(l(12),u("ngForOf",r.invoices))},dependencies:[L,ne,x,M,z,G,A,E,O,q,U,qe,we],styles:["[_nghost-%COMP%]   [_ngcontent-%COMP%]:ng-deep   nb-list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem!important}[_nghost-%COMP%]   .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 1rem}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-status[_ngcontent-%COMP%]{width:15%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]{display:flex;flex-grow:1;gap:2rem}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]   .invoice-name[_ngcontent-%COMP%]{width:30%;text-align:left;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]   .invoice-date[_ngcontent-%COMP%]{width:30%;text-align:center;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]{display:flex;width:10%;justify-content:flex-end}@media (max-width: 576px){[_nghost-%COMP%]     nb-list-item{flex-wrap:wrap;row-gap:.75rem;display:flex;justify-content:space-between;align-items:center;width:100%}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-status[_ngcontent-%COMP%]{display:flex;width:30%;white-space:nowrap}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]   .invoice-name[_ngcontent-%COMP%]{width:50%;text-overflow:ellipsis;text-align:left}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]   .invoice-date[_ngcontent-%COMP%]{width:40%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .list-item[_ngcontent-%COMP%]   .invoice-details[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-left:0}}"]})};var X=class a{constructor(n){this.dialogRef=n;this.productCount=localStorage.getItem("Products")?JSON.parse(localStorage.getItem("Products")).length:0,this.newProduct.ProductId=this.productCount+1,console.log(this.productCount)}isEdit=!1;editProduct;productCount=0;ngOnInit(){this.isEdit&&this.editProduct?this.newProduct=P({},this.editProduct):(this.productCount=localStorage.getItem("Products")?JSON.parse(localStorage.getItem("Products")).length:0,this.newProduct.ProductId=this.productCount+1)}newProduct={ProductId:"",Name:"",Rate:null};addProduct(){let n=P({},this.newProduct);n.ProductId&&n.Name&&n.Rate&&this.dialogRef.close(n)}close(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||a)(h(ue))};static \u0275cmp=w({type:a,selectors:[["app-add-product"]],inputs:{isEdit:"isEdit",editProduct:"editProduct"},standalone:!1,decls:22,vars:3,consts:[["form","ngForm"],["nbButton","","status","danger","ghost","",1,"close",3,"click"],["icon","close"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","nameInput",1,"label"],["type","text","nbInput","","fullWidth","","id","nameInput","name","productName","placeholder","Enter Product Name","required","",3,"ngModelChange","ngModel"],["for","rateInput",1,"label"],["type","text","nbInput","","fullWidth","","id","rateInput","name","Rate","placeholder","Enter Rate","required","",3,"ngModelChange","ngModel"],[1,"action-buttons"],["nbButton","","status","primary",3,"click","disabled"]],template:function(e,r){if(e&1){let t=y();o(0,"nb-card")(1,"nb-card-header"),c(2,"Add new Product "),o(3,"button",1),_("click",function(){return m(t),p(r.close())}),g(4,"nb-icon",2),i()(),o(5,"nb-card-body")(6,"form",null,0)(8,"div",3)(9,"div",4)(10,"div",5)(11,"label",6),c(12,"Product Name"),i(),o(13,"input",7),v("ngModelChange",function(d){return m(t),b(r.newProduct.Name,d)||(r.newProduct.Name=d),p(d)}),i()(),o(14,"div",5)(15,"label",8),c(16,"Rate"),i(),o(17,"input",9),v("ngModelChange",function(d){return m(t),b(r.newProduct.Rate,d)||(r.newProduct.Rate=d),p(d)}),i()()()()()(),o(18,"nb-card-footer")(19,"div",10)(20,"button",11),_("click",function(){return m(t),p(r.addProduct())}),c(21,"add"),i()()()()}if(e&2){let t=k(7);l(13),f("ngModel",r.newProduct.Name),l(4),f("ngModel",r.newProduct.Rate),l(3),u("disabled",!t.valid)}},dependencies:[x,M,A,E,me,O,pe,le,oe,re,ae,de,se,ce],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}.close[_ngcontent-%COMP%]{float:right;margin-top:-5px;margin-right:-5px;margin-bottom:-5px;cursor:pointer}  button+button{margin:0rem 1rem}"]})};var ct=()=>({type:"pulse"}),st=a=>({animation:a});function lt(a,n){if(a&1){let e=y();o(0,"nb-list-item",6)(1,"div",7)(2,"div",8),c(3),i(),o(4,"div",9)(5,"span",10),c(6),D(7,"currency"),i()()(),o(8,"div",11)(9,"button",12),_("click",function(){let t=m(e).index,s=C();return p(s.editProductDialog(t))}),g(10,"nb-icon",13),i(),o(11,"button",14),_("click",function(){let t=m(e).index,s=C();return p(s.deleteProduct(t))}),g(12,"nb-icon",15),i()()()}if(a&2){let e=n.$implicit;l(3),te(" ",e.ProductId," - ",e.Name," "),l(3),V(T(7,4,e.Rate,"INR")),l(6),u("options",j(8,st,F(7,ct)))}}var fe=class a{constructor(n,e){this.productDialogService=n;this.NbTostr=e}ngOnInit(){this.getProductsData()}Products=[];getProductsData(){let n=localStorage.getItem("Products");n?this.Products=JSON.parse(n):(this.Products=[{ProductId:"1",Name:"dummy data",Rate:100}],this.setProductsData())}setProductsData(){localStorage.setItem("Products",JSON.stringify(this.Products))}openAddProductDialog(){console.log("opening add product dialog..."),this.productDialogService.open(X,{context:{isEdit:!1}}).onClose.subscribe(e=>{if(e&&e.ProductId&&e.Name&&e.Rate){if(this.Products.find(t=>t.Name===e.Name)){this.NbTostr.danger("please use unique name for Products",`${e.Name} already exist.`);return}console.log("Product received:",e),this.Products.push(e),this.setProductsData(),this.NbTostr.success("Product added successfully.","SUCCESS",{duration:3e3})}console.log("Dialog closed",e)})}editProductDialog(n){console.log("opening edit product dialog...");let e=P({},this.Products[n]);console.log(e),this.productDialogService.open(X,{context:{isEdit:!0,editProduct:e}}).onClose.subscribe(t=>{t&&t.ProductId&&t.Name&&t.Rate&&(this.Products[n]=t,this.setProductsData(),this.NbTostr.success("Product updated successfully","SUCCESS"))})}deleteProduct(n){this.Products.splice(n,1),this.setProductsData()}refresh(){window.location.reload()}static \u0275fac=function(e){return new(e||a)(h(ge),h(J))};static \u0275cmp=w({type:a,selectors:[["products"]],standalone:!1,decls:13,vars:1,consts:[["size","medium"],[1,"action"],["nbButton","",3,"click"],["icon","plus-outline","status","primary",1,"nb-icon"],["status","danger","icon","sync-outline"],["class","product-list",4,"ngFor","ngForOf"],[1,"product-list"],[1,"product-details"],[1,"product-name"],[1,"item-row-2"],[1,"product-price"],[1,"product-actions"],["nbButton","","size","small","ghost","","status","primary",3,"click"],["icon","edit-2-outline",1,"card-icon"],["nbButton","","size","small","ghost","","status","danger",3,"click"],["icon","trash-2",1,"card-icon",3,"options"]],template:function(e,r){e&1&&(o(0,"nb-actions",0)(1,"nb-action",1)(2,"button",2),_("click",function(){return r.openAddProductDialog()}),g(3,"nb-icon",3),i(),o(4,"button",2),_("click",function(){return r.refresh()}),g(5,"nb-icon",4),i()()(),o(6,"nb-card",0)(7,"nb-card-header"),c(8,"Products"),i(),o(9,"nb-card-body"),N(10),o(11,"nb-list"),I(12,lt,13,10,"nb-list-item",5),i(),S(),i()()),e&2&&(l(12),u("ngForOf",r.Products))},dependencies:[L,x,M,z,G,A,E,O,q,U,ie],styles:[".action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 1rem}.product-list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0}.product-details[_ngcontent-%COMP%]{display:flex;flex-grow:2;gap:2rem}.product-details[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{width:50%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.product-details[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{width:20%;text-align:right}.product-details[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%]{display:flex;width:10%;justify-content:flex-end}@media (max-width: 576px){[_nghost-%COMP%]     nb-list-item{flex-wrap:wrap;row-gap:.75rem}[_nghost-%COMP%]   .product-details[_ngcontent-%COMP%]{flex-basis:50%;margin-right:0;flex-grow:1}[_nghost-%COMP%]   .item-actions[_ngcontent-%COMP%]{flex-basis:30%;justify-content:flex-end;margin-left:0}}"]})};var dt=()=>({type:"shake"}),mt=a=>({animation:a}),be=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=w({type:a,selectors:[["app-profile"]],standalone:!1,decls:13,vars:4,consts:[["size","medium"],["nbButton",""],["icon","edit-2-outline",1,"nb-icon"],[1,"card-content"],["icon","trash-2",1,"card-icon",3,"options"]],template:function(e,r){e&1&&(o(0,"nb-actions",0)(1,"nb-action")(2,"button",1),g(3,"nb-icon",2),i()()(),o(4,"nb-card",0)(5,"nb-card-header"),c(6,"Invoices"),i(),o(7,"nb-card-body"),N(8),o(9,"nb-list")(10,"nb-list-item",3),g(11,"nb-user")(12,"nb-icon",4),i()(),S(),i()()),e&2&&(l(12),u("options",j(2,mt,F(1,dt))))},dependencies:[x,M,z,G,A,E,O,We,q,U],styles:[".nb-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-icon[_ngcontent-%COMP%]{margin-left:80px!important}.card-icon[_ngcontent-%COMP%]:hover{color:#4169e1}.card-content[_ngcontent-%COMP%]{justify-content:space-between;display:flex}"]})};var pt=[{path:"",component:_e,children:[{path:"invoices",component:Ce},{path:"products",component:fe},{path:"profile",component:be},{path:"",redirectTo:"invoices",pathMatch:"full"}]}],ve=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=ee({type:a});static \u0275inj=$({imports:[H.forChild(pt),H]})};var Ge=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=ee({type:a});static \u0275inj=$({imports:[ye,H,Ue,Le.forChild(),ve,Se]})};export{Ge as a};
